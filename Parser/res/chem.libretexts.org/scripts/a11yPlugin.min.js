/*! For license information please see a11yPlugin.min.js.LICENSE.txt */
(()=>{"use strict";var t={935:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(645),s=i.n(n)()((function(t){return t[1]}));s.push([t.id,"/*! Copyright (c) 2014-2022, CKSource - Frederico Knabben. All rights reserved. For licensing, see LICENSE.md or https://ckeditor.com/license *//*! Copyright (c) 2014-2022, CKSource - Frederico Knabben. All rights reserved. For licensing, see LICENSE.md or https://ckeditor.com/license *//*! Copyright (c) 2014-2022, CKSource - Frederico Knabben. All rights reserved. For licensing, see LICENSE.md or https://ckeditor.com/license *//*! Copyright (c) 2014-2022, CKSource - Frederico Knabben. All rights reserved. For licensing, see LICENSE.md or https://ckeditor.com/license */.cke_editable.cke_loading a,.cke_editable.cke_loading img,.cke_editable.cke_loading.cke_editable_inline.cke_focus{cursor:wait}.cke_editable .cke_a11yc_issue{outline:3px solid #ff9f9f !important;background-color:#ffe4e4;font-style:italic}.cke_editable .cke_a11yc_issue:hover{cursor:pointer}.cke_editable .cke_a11yc_issue.cke_a11yc_notice{outline-color:#dcdcdc;background-color:#fefefe}.cke_editable .cke_a11yc_issue.cke_a11yc_warning{outline-color:#ffe4b5;background-color:#fffacd}.cke_editable .cke_a11yc_issue.cke_a11yc_error{outline-color:#ff9f9f;background-color:#ffe4e4}.cke_editable .cke_a11yc_issue.cke_a11yc_ignored{outline-color:#dcdcdc;background-color:transparent}.cke_editable .cke_a11yc_issue.cke_a11yc_focused:hover{cursor:auto}.cke_editable .cke_a11yc_issue.cke_a11yc_focused.cke_a11yc_error,.cke_editable .cke_a11yc_issue.cke_a11yc_focused.cke_a11yc_warning,.cke_editable .cke_a11yc_issue.cke_a11yc_focused.cke_a11yc_notice{outline-color:#e87b23;background-color:#f6d9be}.cke_editable .cke_a11yc_issue.cke_a11yc_focused.cke_a11yc_ignored{outline-color:#a9a9a9;background-color:transparent}",""]);const a=s},958:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(645),s=i.n(n)()((function(t){return t[1]}));s.push([t.id,".cke_button_icon.cke_button__a11ybutton_icon{background-image:url(https://test.libretexts.org/alvin/public/ckeditor-a11ychecker/dist/icons/a11ychecker.png) !important;background-position:0 0px !important;background-size:16px !important}.cke_a11yc_focused{outline:3px solid #ff9f9f !important;background-color:#ffe4e4;font-style:italic}",""]);const a=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(n)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(s[o]=!0)}for(var r=0;r<t.length;r++){var c=[].concat(t[r]);n&&s[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),e.push(c))}},e}},379:(t,e,i)=>{var n,s=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),a=[];function o(t){for(var e=-1,i=0;i<a.length;i++)if(a[i].identifier===t){e=i;break}return e}function r(t,e){for(var i={},n=[],s=0;s<t.length;s++){var r=t[s],c=e.base?r[0]+e.base:r[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var d=o(u),h={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:u,updater:g(h,e),references:1}),n.push(u)}return n}function c(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var a=i.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var o=s(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var l,u=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,i,n){var s=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=u(e,s);else{var a=document.createTextNode(s),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function h(t,e,i){var n=i.css,s=i.media,a=i.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var p=null,f=0;function g(t,e){var i,n,s;if(e.singleton){var a=f++;i=p||(p=c(e)),n=d.bind(null,i,a,!1),s=d.bind(null,i,a,!0)}else i=c(e),n=h.bind(null,i,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else s()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var i=r(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var s=o(i[n]);a[s].references--}for(var c=r(t,e),l=0;l<i.length;l++){var u=o(i[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}i=c}}}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={id:n,exports:{}};return t[n](a,a.exports,i),a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{const t=()=>{!function(){var t=!1;function e(t,e,i){return Math.max(t,Math.min(e,i))}CKEDITOR.plugins.add("balloonpanel",{init:function(){t||(CKEDITOR.document.appendStyleSheet("https://test.libretexts.org/alvin/public/ckeditor-a11ychecker/dist/balloonpanel/skins/moono-lisa/balloonpanel.css"),t=!0)}}),CKEDITOR.ui.balloonPanel=function(t,e){for(var i in this.editor=t,CKEDITOR.tools.extend(this,{width:360,height:"auto",triangleWidth:20,triangleHeight:20,triangleMinDistance:40},e,!0),this.templates={},this.templateDefinitions)this.templates[i]=new CKEDITOR.template(this.templateDefinitions[i]);this.parts={},this.focusables={},this.showListeners={},this.activeShowListeners={},this.rect={visible:!1},this.build(),t.on("destroy",(function(){this.destroy()}),this)},CKEDITOR.ui.balloonPanel.prototype={templateDefinitions:{panel:'<div class="cke {id} cke_reset_all cke_chrome cke_balloon cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="dialog" style="{style}" tabindex="-1" aria-labelledby="cke_{name}_arialbl"></div>',content:'<div class="cke_balloon_content">{content}</div>',title:'<div class="cke_balloon_title" role="presentation">{title}</div>',close:'<a class="cke_balloon_close_button" href="javascript:void(0)" title="Close" role="button" tabindex="-1"><span class="cke_label">X</span></a>',triangleOuter:'<span style="display: none" class="cke_balloon_triangle cke_balloon_triangle_outer"></span>',triangleInner:'<span style="display: none" class="cke_balloon_triangle cke_balloon_triangle_inner">&#8203;</span>'},build:function(){var t=this.editor;this.parts={title:CKEDITOR.dom.element.createFromHtml(this.templates.title.output({title:this.title})),close:CKEDITOR.dom.element.createFromHtml(this.templates.close.output()),panel:CKEDITOR.dom.element.createFromHtml(this.templates.panel.output({id:t.id,langDir:t.lang.dir,langCode:t.langCode,name:t.name,style:"display:none;",voiceLabel:t.lang.editorPanel+", "+t.name})),content:CKEDITOR.dom.element.createFromHtml(this.templates.content.output({content:this.content||""})),triangleOuter:CKEDITOR.dom.element.createFromHtml(this.templates.triangleOuter.output()),triangleInner:CKEDITOR.dom.element.createFromHtml(this.templates.triangleInner.output()),contactInfo:CKEDITOR.dom.element.createFromHtml("<div id=\"libretext_contact_info\" style='margin-left: 10px; margin-bottom: 8px; \n\t\t\t\t\t\t\t\t padding-left: 6px; \n\t\t\t\t\t\t\t\t padding-right: 6px;\n\t\t\t\t\t\t\t\t color: #6e6e6e;' >\n\t\t\t\t\t\tContact ckelibretext@ucdavis.edu for bug reporting. <br/>If the quick fix button doesn't show up, please refresh the page.\n\t\t\t\t\t</div>")},this.parts.panel.append(this.parts.title,1),this.parts.panel.append(this.parts.close,1),this.parts.panel.append(this.parts.triangleOuter),this.parts.panel.append(this.parts.content),this.parts.panel.append(this.parts.contactInfo),this.parts.triangleOuter.append(this.parts.triangleInner),this.registerFocusable(this.parts.panel),this.registerFocusable(this.parts.close),this.parts.title.unselectable(),this.parts.close.unselectable(),CKEDITOR.document.getBody().append(this.parts.panel),this.resize(this.width,this.height),this.on("show",this.activateShowListeners,this),this.on("hide",this.deactivateShowListeners,this),this.parts.close.on("click",(function(t){this.hide(),t.data.preventDefault()}),this)},show:function(){if(!this.rect.visible){var t=CKEDITOR.document.getById("libretext_contact_info"),e=t.getParent().getStyle("width");parseInt(e.substring(0,e.length-2))<=250?t.setStyle("display","none"):t.setStyle("display","block"),this.rect.visible=!0,this.parts.panel.show(),this.fire("show")}},hide:function(){this.rect.visible&&(this.rect.visible=!1,this.parts.panel.hide(),this.blur(),this.fire("hide"))},blur:function(){this.editor.focus()},move:function(t,e){this.rect.left=e,this.rect.top=t+200,this.parts.panel.setStyles({position:"fixed",right:CKEDITOR.tools.cssLength("20"),top:CKEDITOR.tools.cssLength("50vh"),border:"5px dashed #03a9f4"})},attach:function(){var t,e,i,n;function s(t,e,i,n){var s={top:t,left:e};return s.right=s.left+i,s.bottom=s.top+n,s}function a(t,e){var i=t;return i.right=e.right,i.width=i.right-i.left,e.y&&(i.y=e.y),i}function o(t,e){var i=e?t[0]:t[t.length-1],n=e?"top":"bottom";return CKEDITOR.tools.array.filter(t,(function(t){if(t[n]===i[n])return t}))}var r={right:"left",top:"bottom",topLeft:"bottomLeft",topRight:"bottomRight",bottom:"top",bottomLeft:"topLeft",bottomRight:"topRight",left:"right"};return function(c,l){if(c instanceof CKEDITOR.dom.selection){var u,d,h=c.getRanges(),p=(u=c.isFake&&c.isInTable()?CKEDITOR.tools.array.map(h,(function(t){return t.getClientRects(!0)[0]})):h[h.length-1].getClientRects(!0))[0],f=u[u.length-1];d=p===f?[p]:p.top===f.top?[a(p,f)]:function(t){var e=o(t,!0),i=o(t),n=a(e[0],e.pop()),s=a(i[0],i.pop());return n.bottom=s.bottom,n.height=n.bottom-n.top,s.y&&(n.y=s.y),s.top=n.top,s.height=n.height,[n,s]}(u)}(l instanceof CKEDITOR.dom.element||!l)&&(l={focusElement:l}),!0===(l=CKEDITOR.tools.extend(l,{show:!0})).show&&this.show(),this.fire("attach"),t=CKEDITOR.document.getWindow(),e=this.editor.window.getFrame(),i=this.editor.editable(),!(n=i.isInline())&&CKEDITOR.env.safari&&(e=e.getParent());var g,m,v,b,y,x,w,C=this.getWidth(),k=this.getHeight(),T=C*k,I=c.getClientRect&&c.getClientRect(!0),E=n?i.getClientRect(!0):e.getClientRect(!0),_=t.getViewPaneSize(),S=t.getScrollPosition(),D={top:Math.max(E.top,S.y),left:Math.max(E.left,S.x),right:Math.min(E.right,_.width+S.x),bottom:Math.min(E.bottom,_.height+S.y)};for(var R in n&&this.editor.elementMode===CKEDITOR.ELEMENT_MODE_INLINE&&((D=this._getViewPaneRect(t)).right+=this.triangleWidth,D.bottom+=this.triangleHeight),d?(CKEDITOR.tools.array.forEach(d,(function(t){this._adjustElementRect(t,n?D:E)}),this),g=this._getAlignments(d[0],C,k),d.length>1&&(g["bottom hcenter"]=this._getAlignments(d[1],C,k)["bottom hcenter"]),y={"top hcenter":!0,"bottom hcenter":!0}):(this._adjustElementRect(I,n?D:E),g=this._getAlignments(I,C,k)),y||g){if(v=s(g[R].top,g[R].left,C,k),0==(b=g[R].areaDifference=T-(x=v,w=D,Math.max(0,Math.min(x.right,w.right)-Math.max(x.left,w.left))*Math.max(0,Math.min(x.bottom,w.bottom)-Math.max(x.top,w.top))))){m=R;break}m||(m=R),b<g[m].areaDifference&&(m=R)}var O=this.parts.panel.getAscendant((function(t){return!(t instanceof CKEDITOR.dom.document)&&"static"!==t.getComputedStyle("position")})),L=O?parseInt(O.getComputedStyle("margin-left"),10):0,A=O?parseInt(O.getComputedStyle("margin-top"),10):0;this.move(g[m].top-A,g[m].left-L),m=m.split(" "),this.setTriangle(r[m[0]],m[1]),!1!==l.focusElement&&(l.focusElement||this.parts.panel).focus()}}(),resize:function(t,e){this.rect.width=t,this.rect.height="auto",this.parts.panel.setStyles({width:CKEDITOR.tools.cssLength(t),height:CKEDITOR.tools.cssLength(e)})},getWidth:function(){return"auto"===this.rect.width?this.parts.panel.getClientRect().width:this.rect.width},getHeight:function(){return"auto"===this.rect.height?this.parts.panel.getClientRect().height:this.rect.height},setTriangle:function(t,e){var i=this.parts.triangleOuter,n=this.parts.triangleInner;this.triangleSide&&(i.removeClass("cke_balloon_triangle_"+this.triangleSide),i.removeClass("cke_balloon_triangle_align_"+this.triangleAlign),n.removeClass("cke_balloon_triangle_"+this.triangleSide)),this.triangleSide=t,this.triangleAlign=e,i.addClass("cke_balloon_triangle_"+t),i.addClass("cke_balloon_triangle_align_"+e),n.addClass("cke_balloon_triangle_"+t)},registerFocusable:function(t){this.editor.focusManager.add(t),this.focusables[t.getUniqueId()]=t},deregisterFocusable:function(t){this.editor.focusManager.remove(t),delete this.focusables[t.getUniqueId()]},addShowListener:function(t){var e=CKEDITOR.tools.getNextNumber();this.showListeners[e]=t,this.rect.visible&&this.activateShowListener(e);var i=this;return{removeListener:function(){i.removeShowListener(e)}}},removeShowListener:function(t){this.deactivateShowListener(t),delete this.showListeners[t]},activateShowListener:function(t){this.activeShowListeners[t]=this.showListeners[t].call(this)},deactivateShowListener:function(t){this.activeShowListeners[t]&&this.activeShowListeners[t].removeListener(),delete this.activeShowListeners[t]},activateShowListeners:function(){for(var t in this.showListeners)this.activateShowListener(t)},deactivateShowListeners:function(){for(var t in this.activeShowListeners)this.deactivateShowListener(t)},destroy:function(){this.deactivateShowListeners(),this.parts.panel.remove()},setTitle:function(t){this.parts.title.setHtml(t)},_getAlignments:function(t,e,i){return{"right vcenter":{top:t.top+t.height/2-i/2,left:t.right+this.triangleWidth},"left vcenter":{top:t.top+t.height/2-i/2,left:t.left-e-this.triangleWidth},"top hcenter":{top:t.top-i-this.triangleHeight,left:t.left+t.width/2-e/2},"top left":{top:t.top-i-this.triangleHeight,left:t.left+t.width/2-this.triangleMinDistance},"top right":{top:t.top-i-this.triangleHeight,left:t.right-t.width/2-e+this.triangleMinDistance},"bottom hcenter":{top:t.bottom+this.triangleHeight,left:t.left+t.width/2-e/2},"bottom left":{top:t.bottom+this.triangleHeight,left:t.left+t.width/2-this.triangleMinDistance},"bottom right":{top:t.bottom+this.triangleHeight,left:t.right-t.width/2-e+this.triangleMinDistance}}},_adjustElementRect:function(t,i){t.left=e(i.left,i.right-1,t.left),t.right=e(i.left,i.right,t.right),t.top=e(i.top,i.bottom-1,t.top),t.bottom=e(i.top,i.bottom,t.bottom)},_getViewPaneRect:function(t){var e=t.getScrollPosition(),i=t.getViewPaneSize();return{top:e.y,bottom:e.y+i.height,left:e.x,right:e.x+i.width}}},CKEDITOR.event.implementOn(CKEDITOR.ui.balloonPanel.prototype)}()};var e=i(379),n=i.n(e),s=i(935);n()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var a=i(958);n()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var o={};const r=()=>{CKEDITOR.plugins.add("a11yButton",{init(t){CKEDITOR.dialog.add("a11yTestDialog",(t=>({title:"Accessibility Checker",resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:500,minHeight:400,contents:[{id:"a11yTOC",label:"A11y Table Of Contents",title:"A11y Table Of Contents",accessKey:"Q",elements:[{type:"html",html:"<p>Please select which issues you would like to test for:</p>"},{type:"checkbox",label:"1. All accessibility issues (DEFAULT)",id:"testAll",labelStyle:"margin-left: 30px;",focus:function(){$("#testAll").focus()}},{type:"checkbox",label:"2. Headings",id:"testHeadings",labelStyle:"margin-left: 30px;",focus:function(){$("#testHeadings").focus()}},{type:"checkbox",label:"3. Alt Image Tags",id:"testImages",labelStyle:"margin-left: 30px;",focus:function(){$("#testImages").focus()}},{type:"checkbox",label:"4. Tables",id:"testTables",labelStyle:"margin-left: 30px;",focus:function(){$("#testTables").focus()}},{type:"checkbox",label:"5. Links",id:"testLinks",labelStyle:"margin-left: 30px;",focus:function(){$("#testLinks").focus()}},{type:"checkbox",label:"6. Color Contrast (excluded by default)",id:"testColor",labelStyle:"margin-left: 30px;",focus:function(){$("#testColor").focus()}},{type:"checkbox",label:"7. Labels (excluded by default)",id:"testLabels",labelStyle:"margin-left: 30px;",focus:function(){$("#testLabels").focus()}},{type:"checkbox",label:"8. Abbreviations (excluded by default)",id:"testAbbrs",labelStyle:"margin-left: 30px;",focus:function(){$("#testAbbrs").focus()}},{type:"html",html:'<footer style="font-size: 12px; margin-top: 0px;>Contact ckelibretext@ucdavis.edu for bug reporting.</footer>'}]}],onOk(){const e=this;o={All:e.getValueOf("a11yTOC","testAll"),Headings:e.getValueOf("a11yTOC","testHeadings"),Images:e.getValueOf("a11yTOC","testImages"),Tables:e.getValueOf("a11yTOC","testTables"),Links:e.getValueOf("a11yTOC","testLinks"),Color:e.getValueOf("a11yTOC","testColor"),Labels:e.getValueOf("a11yTOC","testLabels"),Abbreviations:e.getValueOf("a11yTOC","testAbbrs")},t.execCommand("a11ychecker")},onLoad(){const t=this,e={1:"testAll",2:"testHeadings",3:"testImages",4:"testTables",5:"testLinks",6:"testColor",7:"testLabels",8:"testAbbrs"};CKEDITOR.document.on("keydown",(function(i){let n,s=i.data.$.key;if(n=s in e?e[s]:"",n){let e=t.getValueOf("a11yTOC",n);t.setValueOf("a11yTOC",n,!e),t.getContentElement("a11yTOC",n).focus()}})),this.parts.contents.setStyle("overflow","visible")}}))),t.addCommand("testDialog",new CKEDITOR.dialogCommand("a11yTestDialog")),t.ui.addButton("a11yButton",{label:"Accessibility Checker",command:"testDialog",toolbar:"insert",icon:"https://test.libretexts.org/alvin/public/ckeditor-a11ychecker/dist/icons/a11ychecker.png"})}})};var c=["aLinksDontOpenNewWindow","aAdjacentWithSameResourceShouldBeCombined","aMustNotHaveJavascriptHref","imgAltNotEmptyInAnchor","imgShouldNotHaveTitle","pNotUsedAsHeader","tableDataShouldHaveTh","tableWithBothHeadersUseScope","tableComplexHasSummary","aSuspiciousLinkText","tableSummaryDoesNotDuplicateCaption","imgAltIsDifferent","imgAltIsTooLong","imgWithEmptyAlt","headerH1","headerH2","headerH3","headerH4","headerH5","headerH6","inputTextHasLabel","checkboxHasLabel","radioHasLabel","textareaHasAssociatedLabel","selectHasAssociatedLabel","passwordHasLabel","fileHasLabel","fieldsetHasLabel","tableUsesCaption","formButtonsHaveValue"],l={aLinksDontOpenNewWindow:["NewWindowLink"],KINGUseLongDateFormat:["DateUnfold"],aAdjacentWithSameResourceShouldBeCombined:["AnchorsMerge"],aMustNotHaveJavascriptHref:["aMustNotHaveJShref"],imgImportantNoSpacerAlt:["ImgAlt"],imgWithEmptyAlt:["ImgAltNonEmpty"],imgAltNotEmptyInAnchor:["ImgAltAnchor"],imgAltIsDifferent:["ImgAlt"],imgAltIsTooLong:["ImgAlt"],imgShouldNotHaveTitle:["AttributeRenameDefault"],pNotUsedAsHeader:["ParagraphToHeader"],headerH1:["ParagraphToHeader"],headerH2:["ParagraphToHeader"],headerH3:["ParagraphToHeader"],headerH4:["ParagraphToHeader"],headerH5:["ParagraphToHeader"],headerH6:["ParagraphToHeader"],inputTextHasLabel:["FormFieldLabel"],checkboxHasLabel:["FormFieldLabel"],radioHasLabel:["FormFieldLabel"],textareaHasAssociatedLabel:["FormFieldLabel"],selectHasAssociatedLabel:["FormFieldLabel"],passwordHasLabel:["FormFieldLabel"],fileHasLabel:["FormFieldLabel"],fieldsetHasLabel:["FieldsetLegend"],aSuspiciousLinkText:["SuspiciousLinkFix"],tableUsesCaption:["AddTableCaption"],tableDataShouldHaveTh:["TableHeaders"],tableWithBothHeadersUseScope:["TableScope"],tableSummaryDoesNotDuplicateCaption:["ChangeTableSummary"],tableComplexHasSummary:["AddTableSummary"],colorFontContrast:["ColorContrastFix"],formButtonsHaveValue:["FormButtonValue"],labelMustBeUnique:["labelMustBeUnique"]},u=[{selector:"h5:not(section h5, div h5),h6:not(section h6, div h6)",customSelector:null,testability:"Error",id:"ReservedHeaders",title:"H5 and H6 is reserved for LibreTexts",desc:"LibreTexts reserves heading level 5 and heading level 6, and should not be used outside of boxes for sidebar content. Clicking quick fix will change this heading to a header level 4.",quickfixName:"ReservedHeaders"},{selector:".mt-font-size-8",customSelector:null,testability:"Notice",id:"FontSizeIsTooSmall",title:"Font size is too small",desc:"All text elements should be at least 10pt font size.",quickfixName:"FontSizeFix"},{selector:"img:not([alt]):not([media], a img:not([alt]))",customSelector:null,testability:"Error",id:"ImgHasAltNew",title:"Images must provide alternative text",desc:"Alternative text needs to convey the same information as the image. This text will be used when the browser has disabled images, the image was not found on the server, or by non-sighted visitors who use screen readers.",quickfixName:"ImgAlt"},{selector:"figure p",customSelector:null,testability:"Error",id:"CombineFigcaptionAndPTags",title:"Use a single figcaption in a figure",desc:"Accessibility checker has noticed in the HTML that text other than the figcaption is present in this figure. Pressing quick fix will combine it for you into one caption. <br/><br/>Tip: When typing a new line in your caption, use SHIFT + ENTER.",quickfixName:"RemovePFix"},{selector:"h1.dummyClass",customSelector:null,testability:"Error",id:"DummyID",title:"This is a dummy custom test.",desc:"If you are reading this, this is a dummy class that is kept for development purposes. Please rename the class of this element.",quickfixName:""},{selector:".box-legend:not(h5)",customSelector:null,testability:"Error",id:"boxLegendHasHeader",title:"Headers for box legends should use an h5 tag",desc:"Box legends should use headers to maintain page organization",quickfixName:"BoxLegendHeaderFix"},{selector:"a",customSelector:function(t){let e=t.getText();if(e.includes("/"))return e},testability:"Error",id:"linkMustNotContainHttp",title:"There exists a link text that contains or starts with http(s)",desc:"URL's are inaccessible to screenreaders due to the long text link, shorten to a link description for accessibility purposes. If leaving libretext, the checker will list site automatically.",quickfixName:"linkMustNotContainHttp"},{selector:'a[href*="mailto"]',customSelector:function(t){let e=t.getText();if(e.includes("@"))return e},testability:"Error",id:"mailToLinkMustNotHaveEmail",title:"There exists a link displaying the whole email address",desc:"A 'mail-to' link must not contain the whole email address as its text as it already links to it. Please input name only, email will be placed before the name.",quickfixName:"mailToLinkMustNotHaveEmail"},{selector:"iframe",customSelector:function(t){return 0==t.hasAttribute("title")||""==t.getAttribute("title")?t:void 0},testability:"Error",id:"iframeMustHaveTitle",title:"The iframe does not contain a title",desc:"All iframes must contain a title for the screen reader to provide information about the video.",quickfixName:"iframeMustHaveTitle"},{selector:"span.acronym",customSelector:function(t){if("span"==t.getName())return!0;const e=/[A-Z]{2,}/g;let i=t.getHtml().match(/((>|\s)[A-Z]{2,}(?=(<\/\w*?>|\s|\,|\.|(&nbsp))))/g);return i?(["sub","sup"].forEach((n=>{let s=t.find(n).toArray();s&&(s=s.map((t=>{let i=t.getParent().getHtml().match(e);return i?i.join():""})),i=i.filter((t=>!s.includes(t.slice(1)))))})),["abbr","span.acronym-ignore","span.acronym","a"].forEach((n=>{let s=t.find(n).toArray();s&&(s=s.map((t=>{let i=t.getHtml().match(e);return i?i.join():""})),i=i.filter((t=>!s.includes(t.slice(1)))))})),i?i.length:0):0},testability:"Error",id:"AcronymInTag",title:"This page contains at least one acronym that should be given a definition",desc:'Acronyms should be given a definition at its first appearance on the page. Input "N/A" if this is not an acronym and should be ignored, like chemical notation. If no input appears, press "Quick fix".',quickfixName:"AcronymFix"}],d=["pNotUsedAsHeader","headerH1","headerH2","headerH3","headerH4","headerH5","headerH6"],h=["imgShouldNotHaveTitle","imgAltIsDifferent","imgAltIsTooLong","imgWithEmptyAlt","imgAltNotEmptyInAnchor"],p=["tableWithBothHeadersUseScope","tableComplexHasSummary","tableSummaryDoesNotDuplicateCaption","tableUsesCaption"],f=["aLinksDontOpenNewWindow","aAdjacentWithSameResourceShouldBeCombined","aImgAltNotRepetitive","aSuspiciousLinkText"],g=["colorFontContrast"],m=["inputTextHasLabel","checkboxHasLabel","radioHasLabel","textareaHasAssociatedLabel","selectHasAssociatedLabel","passwordHasLabel","fileHasLabel","fieldsetHasLabel"],v=["ReservedHeaders","boxLegendHasHeader"],b=["ImgHasAltNew"],y=["AcronymInTag"];const x=()=>{var t,e,i,n,s,a,o,r,u,d,h,p,f,g,m,v,b,y,x,w,C,k,T,I,E,_;console.log("adding a11ychecker.."),k=function(){function t(){this.list=[]}function e(t,e){return t.element.getPosition(e.element)&CKEDITOR.POSITION_FOLLOWING?1:-1}return t.prototype={list:[],currentIndex:-1},t.prototype.constructor=t,t.prototype.each=function(t){var e=this.list;if(e.map)e.map(t,this);else for(var i=0,n=e.length;n>i;i++)t.call(this,e[i])},t.prototype.count=function(t){if(t){var e=0,i=0;for(i=0;i<this.list.length;i++)this.list[i].isIgnored()||(e+=1);return e}return this.list.length},t.prototype.addItem=function(t){this.list.push(t)},t.prototype.getItem=function(t){return this.list[t]||null},t.prototype.clear=function(){this.list.splice(0,this.list.length),this.resetFocus()},t.prototype.resetFocus=function(){if(-1!==this.currentIndex){var t=this.getFocused();this.currentIndex=-1,this.fire("focusChanged",{current:null,previous:t})}},t.prototype.getFocused=function(){return-1!=this.currentIndex?this.getItem(this.currentIndex):null},t.prototype.moveTo=function(t){if(!this.getItem(t))return!1;var e=this.getFocused();return this.currentIndex=t,this.fire("focusChanged",{current:this.getItem(t),previous:e}),!0},t.prototype.next=function(){return this.count()?(this.currentIndex+1>this.count()-1?0!==this.currentIndex&&this.moveTo(0):this.moveTo(this.currentIndex+1),this.getFocused()):null},t.prototype.prev=function(){if(!this.count())return null;var t=this.count()-1;return 0===this.currentIndex||-1==this.currentIndex?this.currentIndex!=t&&this.moveTo(t):this.moveTo(this.currentIndex-1),this.getFocused()},t.prototype.getIssueByElement=function(t){var e=null;return this.each((function(i){i.element.equals(t)&&(e=i)})),e},t.prototype.getIssuesByElement=function(t,e){for(var i,n,s=[],a=this.list,o=0,r=a.length;r>o;o++)i=a[o],n=!e||!i.isIgnored(),i.element.equals(t)&&n&&s.push(i);return s},t.prototype.indexOf=function(t){return CKEDITOR.tools.indexOf(this.list,t)},t.prototype.getIssueByIndex=function(t){return this.getItem(t).element},t.prototype.sort=function(){this.list.sort(e)},t.prototype.filter=function(t){return this.list=this.list.filter(t),this.list},CKEDITOR.event.implementOn(t.prototype),t}(),T=function(t){function e(){}return e.prototype={fixesMapping:{},config:{}},CKEDITOR.event.implementOn(e.prototype),e.prototype.constructor=e,e.fixes={},e.prototype.process=function(e,i,n){var s=new t;return!1!==this.fire("process",{issues:s,contentElement:i})&&(n&&n(s),!0)},e.prototype.filterIssues=function(t,e){if(this._filterIssue){var i=this;t.filter((function(t){return i._filterIssue.call(i,t,e)}))}},e.prototype.getIssueDetails=function(t,e){},e.getFixType=function(t,i){e.fixes[t]?i&&i(e.fixes[t]):function(n){e.fixes[t]=n,i&&i(n)}()},e.prototype.getFixes=function(t,e,i){var n=this.fixesMapping[t.id];if(n&&n.length){var s,a=[],o=function(t){a.push(t),a.length===n.length&&e(a)};for(s=0;s<n.length;s++)CKEDITOR.plugins.a11ychecker.quickFixes.getInstance({name:n[s],callback:o,issue:t,langCode:i})}else e([])},e.prototype.createConfig=function(t){return{}},e.prototype._filterIssue=null,e}(k),I=function(){function t(t,e){CKEDITOR.tools.extend(this,t,!0),this.engine=e}return t.testability={ERROR:1,WARNING:.5,NOTICE:0},t.prototype={testability:t.testability.NOTICE,element:null,originalElement:null,details:null,engine:null,id:null,_ignored:null},t.prototype.constructor=t,t.prototype.setIgnored=function(t){var e,i=(this.element.data("a11y-ignore")||"").split(",");if(this._ignored=null,t)i[0]||1!==i.length?i.push(this.id):i[0]=this.id;else for(;-1!==(e=CKEDITOR.tools.indexOf(i,this.id));)i.splice(e,1);this.element.data("a11y-ignore",i.join(",")||!1)},t.prototype.isIgnored=function(){return null===this._ignored&&(this._ignored=this.checkIgnored()),this._ignored},t.prototype.ignore=function(){this.setIgnored(!0)},t.prototype.checkIgnored=function(){var t=this.element.data("a11y-ignore")||"";return-1!==CKEDITOR.tools.indexOf(t.split(","),this.id)},t.prototype.getDetails=function(t){if(this.details)t(this.details);else{var e=this;this.engine.getIssueDetails(this,(function(i){e.details=i,t(i)}))}},t}(),E=function(){function t(t,e,i,n){this.title=t,this.descr=e,this.path=i||[],this.data=n}return t.prototype={},t.prototype.constructor=t,t}(),t=function(){function t(t){this.basePath=t||""}t.prototype={},t.prototype.constructor=t;var e={},i={};return t.prototype.get=function(t){var n,s,a=t.name,o=t.callback;return e[a]?void o(e[a]):(i[a]||(i[a]=[]),i[a].push(o),void(!1!==e[a]&&(n={name:a},e[a]=!1,s=this.fire("requested",n),!1!==s&&this.requestQuickFix(t))))},t.prototype.requestQuickFix=function(t){CKEDITOR.scriptLoader.load(this.basePath+t.name+".js")},t.prototype.add=function(t,n){var s,a=i[t]||[],o=a.length;for(e[t]=n,s=0;o>s;s++)a[s](n);delete i[t]},t.prototype.setLoadedTypes=function(t){e=t},t.prototype.getLoadedTypes=function(){return e},t.prototype.getWaitingCallbacks=function(){return i},CKEDITOR.event.implementOn(t.prototype),t}(),e=function(t){function e(e){t.call(this,e)}e.prototype=new t,e.prototype.constructor=e,e.prototype._langDictionary={};var i={},n=[];return e.prototype.get=function(e){return e.langCode=e.langCode||"en",this.deferGetCall(e.langCode,arguments)?void 0:(CKEDITOR.plugins.a11ychecker.dev||(e.name=e.langCode+"/"+e.name),t.prototype.get.call(this,e))},e.prototype.getInstance=function(t){var e=(t=t||{}).name,i=t.langCode||"en",n=this;this.get({name:e,callback:function(s){var a=new s(t.issue);CKEDITOR.plugins.a11ychecker.dev&&(a.lang=n._langDictionary[i][e]),t.callback(a)},langCode:i})},e.prototype.deferGetCall=function(t,e){var i=CKEDITOR.tools.indexOf;return!(!CKEDITOR.plugins.a11ychecker.dev||this._langDictionary[t]||(this._addDeferredGet(t,e),-1===i(n,t)&&(n.push(t),CKEDITOR.scriptLoader.load("https://test.libretexts.org/a11y/ckeditor-a11ychecker/dist/quickfix/lang/"+t+".js")),0))},e.prototype.add=function(e,i){return t.prototype.add.call(this,e,i)},e.prototype.lang=function(t,e){this._langDictionary[t]=e;var n=i[t];if(n)for(var s=n.length-1;s>=0;s--)this.get.apply(this,n[s])},e.prototype._addDeferredGet=function(t,e){i[t]?i[t].push(e):i[t]=[e]},e.prototype._getDeferredGetCount=function(t){return i[t]?i[t].length:0},e.prototype._clearDeferredGetQueue=function(){i={}},e}(t),i=function(){function t(t){this.controller=t,this._storedSel=null}return t.prototype={},t.prototype.constructor=t,t.prototype.init=function(){var t=this.controller,e=t.editor;e&&e.fire("lockSnapshot",{dontUpdate:!0}),t.issues&&t.editableDecorator.markIssues(t.issues),CKEDITOR.env.chrome&&t.editor&&(this._storedSel=t.editor.getSelection().createBookmarks())},t.prototype.close=function(){var t=this.controller;t.editableDecorator.removeMarkup(),t.viewerController&&t.viewerController.viewer.panel.hide(),t.issues&&t.issues.resetFocus(),this._storedSel&&this.controller.editor.getSelection().selectBookmarks(this._storedSel),this.controller.editor.fire("unlockSnapshot")},t.prototype.unsetStoredSelection=function(){var t=this._storedSel;t&&(this.removeBookmark(t),this._storedSel=null)},t.prototype.removeBookmark=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.startNode.remove(),i.endNode&&i.endNode.remove()}},t}(),n=function(){function t(t){this.controller=t}return t.prototype={},t.prototype.constructor=t,t.prototype.init=function(){this.controller.viewerController.startListening()},t.prototype.close=function(){this.controller.viewerController.stopListening()},t}(),s=function(){function t(t){this.controller=t}return t.prototype={},t.prototype.constructor=t,t.prototype.init=function(){this.controller.editor.editable().addClass("cke_loading")},t.prototype.close=function(){this.controller.editor.editable().removeClass("cke_loading")},t}(),a=function(){function t(t){this.editor=t,t&&this.addListeners()}function e(t){return null!==t.data("cke-real-node-type")}return t.prototype={},t.prototype.constructor=t,t.prototype.testabilityClasses={0:"cke_a11yc_notice",.5:"cke_a11yc_warning",1:"cke_a11yc_error"},t.ID_ATTRIBUTE_NAME="quail-id",t.ID_ATTRIBUTE_NAME_FULL="data-quail-id",t.INITIAL_ID_VALUE=1,t.prototype.editable=function(){return this.editor.editable()},t.prototype.markIssues=function(t){var e,i,n=t.count();for(i=0;n>i;i++)e=t.getItem(i),this.markIssueElement(e,t)},t.prototype.addListeners=function(){var e=this.editor,i=e.editable(),n=CKEDITOR.tools.bind(this.clickListener,this);if(!i)throw new Error("Editable not available");i.attachListener(i,"click",n),e.on("contentDom",(function(){var t=e.editable();t.attachListener(t,"click",n)})),e.dataProcessor.htmlFilter.addRules({elements:{$:function(i){return e._.a11ychecker.disableFilterStrip||delete i.attributes[t.ID_ATTRIBUTE_NAME_FULL],e.config.a11ychecker_noIgnoreData&&delete i.attributes["data-a11y-ignore"],i}}})},t.prototype.applyMarkup=function(){var i=this.editable(),n=!!this.editor.plugins.fakeobjects,s=t.INITIAL_ID_VALUE;i.forEach((function(i){return i.data(t.ID_ATTRIBUTE_NAME,s),n&&e(i)&&function(t,e,i){i=String(i);var n=new RegExp("(\\s+"+e+'="\\d+")',"g"),s=decodeURIComponent(t.data("cke-realelement")).replace(n,"").replace(/^(<\w+\s)/,"$1"+e+'="'+CKEDITOR.tools.htmlEncodeAttr(i)+'" ');t.data("cke-realelement",encodeURIComponent(s))}(i,t.ID_ATTRIBUTE_NAME_FULL,s),s+=1,!0}),CKEDITOR.NODE_ELEMENT,!1)},t.prototype.decorateScratchpad=function(e){e.data(t.ID_ATTRIBUTE_NAME,t.INITIAL_ID_VALUE)},t.prototype.removeMarkup=function(){var i=this.editable(),n=!!this.editor.plugins.fakeobjects,s=this.unmarkIssueElement;i.forEach((function(i){i.removeAttribute&&i.removeAttribute(t.ID_ATTRIBUTE_NAME_FULL),n&&e(i)&&function(t,e){var i=new RegExp("(\\s+"+e+'="\\d+")',"g"),n=decodeURIComponent(t.data("cke-realelement")).replace(i,"");t.data("cke-realelement",encodeURIComponent(n))}(i,t.ID_ATTRIBUTE_NAME_FULL),i.hasClass("cke_a11yc_issue")&&s(i)}),CKEDITOR.NODE_ELEMENT,!1)},t.prototype.clickListener=function(t){var e=t.data.getTarget(),i=this.editor._.a11ychecker;if(!e.hasClass("cke_a11yc_issue")){var n,s=e.getParents(!0);for(e=null,n=0;n<s.length;n++)if(s[n].hasClass("cke_a11yc_issue")){e=s[n];break}}e&&!e.hasClass("cke_a11yc_focused")?(i.showIssueByElement(e,(function(){this.viewer.navigation.parts.next.focus()})),i.setMode(1)):i.enabled&&(i.mode.unsetStoredSelection&&i.mode.unsetStoredSelection(),i.setMode(2))},t.prototype.resolveEditorElements=function(e){var i,n,s,a,o=this.editable();for(s=0,a=e.count();a>s;s++)(n=(i=e.getItem(s)).originalElement.data(t.ID_ATTRIBUTE_NAME))===String(t.INITIAL_ID_VALUE)?i.element=o:i.element=o.findOne("*["+t.ID_ATTRIBUTE_NAME_FULL+'="'+n+'"]')},t.prototype.markIgnoredIssue=function(t){t.element.addClass("cke_a11yc_ignored")},t.prototype.markIssueElement=function(t,e){var i=t.element,n=t.testability,s=t.isIgnored()&&!e.getIssuesByElement(i,!0).length;void 0===n&&(n=1),i.addClass("cke_a11yc_issue"),s?this.markIgnoredIssue(t):(i.addClass(this.testabilityClasses[n]),i.removeClass("cke_a11yc_ignored"))},t.prototype.unmarkIssueElement=function(t,e){var i=t.removeClass?t:t.element;e||i.removeClass("cke_a11yc_issue"),i.removeClass("cke_a11yc_error").removeClass("cke_a11yc_warning").removeClass("cke_a11yc_notice").removeClass("cke_a11yc_ignored").removeClass("cke_a11yc_focused")},t}(),o=function(){function t(){}return t.prototype={preferredIssue:null},t.prototype.constructor=t,t.prototype.set=function(t){this.preferredIssue=t},t.prototype.unset=function(t){this.set(null)},t.prototype.getFromList=function(e){var i=null,n=this.preferredIssue&&this.preferredIssue.element,s=!1;return 0===e.count()?i:n?(n&&t._nodeIsRemoved(n)&&(n=t._retreiveElementFromSelection(n.getDocument())),e.each((function(t){s||(t.element.equals(n)?(s=!0,i=t):!i&&t.element.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(i=t))})),i||e.getItem(0)):e.getItem(0)},t._retreiveElementFromSelection=function(t){var e=t.getSelection();return e?e.getCommonAncestor():null},t.prototype.getFromListIndex=function(t){var e=this.getFromList(t);return e?t.indexOf(e):null},t._nodeIsRemoved=function(t){var e=t.getParents();return!(e[0]&&"html"==e[0].getName())},t}(),r=function(){function t(t){this.controller=t}return t.prototype={show:function(){this.getEditorCommand().setState(CKEDITOR.TRISTATE_ON)},hide:function(){this._selectIssue(),this.getEditorCommand().setState(CKEDITOR.TRISTATE_OFF)},update:function(){this.controller.issues.on("focusChanged",this.focusChanged,this)},focusChanged:function(t){var e=t.data;e.previous&&this.unmarkFocus(e.previous.element),e.current&&this.markFocus(e.current.element)},unmarkFocus:function(t){t.removeClass("cke_a11yc_focused")},markFocus:function(t){t.addClass("cke_a11yc_focused")},getEditorCommand:function(){return this.controller.editor.getCommand("a11ychecker")}},t.prototype.constructor=t,t.prototype._selectIssue=function(){var t=this.controller,e=t.issues.getFocused();e&&t._withUndoManager((function(){var i=t.editor,n=t.mode;t.editableDecorator.removeMarkup(),i.getSelection().selectElement(e.element),n.unsetStoredSelection&&n.unsetStoredSelection(),i.fire("updateSnapshot"),n.unsetStoredSelection&&(n._storedSel=i.getSelection().createBookmarks())}))},t}(),u=function(){function t(t){for(var e in this.viewer=t,this.templates={},this.templateDefinitions)this.templates[e]=new CKEDITOR.template(this.templateDefinitions[e]);this.parts={},this.lang=t.editor.lang.a11ychecker,this.build()}return t.prototype={templateDefinitions:{wrapper:'<div class="cke_a11yc_ui_desc_wrapper"></div>',title:'<strong class="cke_a11yc_ui_desc_title" aria-live="polite"></strong>',info:'<p class="cke_a11yc_ui_desc_info" aria-live="polite"></p>'},setTitle:function(t){this.parts.title.setHtml(t)},setInfo:function(t){this.parts.info.setHtml(t)},build:function(){this.parts={wrapper:CKEDITOR.dom.element.createFromHtml(this.templates.wrapper.output()),title:CKEDITOR.dom.element.createFromHtml(this.templates.title.output()),info:CKEDITOR.dom.element.createFromHtml(this.templates.info.output())},this.parts.title.appendTo(this.parts.wrapper),this.parts.info.appendTo(this.parts.wrapper)}},CKEDITOR.event.implementOn(t.prototype),t}(),d=function(t){function e(t,e){for(var i in this.viewer=t,this.lang=e,this.templates={},this.templateDefinitions)this.templates[i]=new CKEDITOR.template(this.templateDefinitions[i]);this.templates.counterText=new CKEDITOR.template(this.lang.navigationCounter),this.parts={},this.build()}var i={};return i[t.testability.ERROR]="error",i[t.testability.WARNING]="warning",i[t.testability.NOTICE]="notice",e.prototype={templateDefinitions:{wrapper:'<div class="cke_a11yc_ui_navigation"></div>',counter:'<div class="cke_a11yc_ui_navigation_counter" aria-live="polite"></div>',buttonWrapper:'<div class="cke_a11yc_ui_button_wrapper"></div>',button:'<a href="javascript:void(0)" hidefocus="true" class="cke_a11yc_ui_button cke_a11yc_ui_{class}" role="button"><span class="cke_a11yc_ui_button"><span>{text}</span></span></a>'},update:function(t,e,n){var s=this.lang.testability[void 0!==n?n:1],a=i[void 0!==n?n:1];for(var o in this.parts.counter.setText(this.templates.counterText.output({current:t+1,total:e,testability:s})),i)this.parts.wrapper.removeClass("cke_a11yc_testability_"+i[o]);this.parts.wrapper.addClass("cke_a11yc_testability_"+a)},build:function(){this.parts={wrapper:CKEDITOR.dom.element.createFromHtml(this.templates.wrapper.output()),counter:CKEDITOR.dom.element.createFromHtml(this.templates.counter.output()),previous:CKEDITOR.dom.element.createFromHtml(this.templates.button.output({title:this.lang.navigationPrevTitle,class:"previous",text:this.lang.navigationPrev})),next:CKEDITOR.dom.element.createFromHtml(this.templates.button.output({title:this.lang.navigationNextTitle,class:"next",text:this.lang.navigationNext}))};var t=CKEDITOR.dom.element.createFromHtml(this.templates.buttonWrapper.output()),e=t.clone();t.append(this.parts.previous),e.append(this.parts.next),this.parts.wrapper.append(this.parts.counter),this.parts.wrapper.append(t),this.parts.wrapper.append(e),this.parts.previous.unselectable(),this.parts.next.unselectable();var i=function(t,e){return function(t){32==t.data.getKeystroke()&&(e.call(this),t.data.preventDefault())}}(0,(function(t){this.fire("click")}));this.parts.previous.on("keydown",i),this.parts.next.on("keydown",i),this.parts.previous.on("click",(function(){this.fire("previous")}),this),this.parts.next.on("click",(function(){this.fire("next")}),this)}},CKEDITOR.event.implementOn(e.prototype),e}(I),h=function(){function t(t,e){e&&(CKEDITOR.tools.extend(this,e,!0),this.name=t,this.id=CKEDITOR.tools.getNextId()+"_input",this.wrapper=CKEDITOR.dom.element.createFromHtml(this.wrapperTemplate.output({label:this.label,id:this.id})))}return t.prototype={wrapperTemplate:new CKEDITOR.template('<div role="presentation" class="cke_a11yc_ui_input_wrapper"><label class="cke_a11yc_ui_input_label" id="{id}_label" for="{id}">{label}</label></div>'),getValue:function(){return this.input.getValue()},setValue:function(t){this.input.setValue(t)},setInitialValue:function(){void 0!==this.value&&this.setValue(this.value)},remove:function(){this.wrapper.remove()}},t}(),p=function(t){var e={Text:function(e,i){t.apply(this,arguments),this.input=CKEDITOR.dom.element.createFromHtml(this.inputTemplate.output({id:this.id})),this.input.appendTo(this.wrapper),this.setInitialValue()},Checkbox:function(e,i){t.apply(this,arguments),this.input=CKEDITOR.dom.element.createFromHtml(this.inputTemplate.output({id:this.id})),this.input.appendTo(this.wrapper),this.setInitialValue()},Select:function(e,i){var n,s;for(n in t.apply(this,arguments),this.options={},this.input=CKEDITOR.dom.element.createFromHtml(this.inputTemplate.output({id:this.id})),i.options)(s=new CKEDITOR.dom.element("option")).setText(i.options[n]),s.setAttribute("value",n),s.appendTo(this.input),this.options[n]=s;this.input.appendTo(this.wrapper),this.setInitialValue()}};return e.Text.prototype=CKEDITOR.tools.extend(new t,{inputTemplate:new CKEDITOR.template('<input class="cke_a11yc_ui_input cke_a11yc_ui_input_text" type="text" id={id} aria-labelledby="{id}_label" aria-required="true">')}),e.Checkbox.prototype=CKEDITOR.tools.extend(new t,{inputTemplate:new CKEDITOR.template('<input class="cke_a11yc_ui_input cke_a11yc_ui_input_checkbox" type="checkbox" id={id} aria-labelledby="{id}_label" aria-required="true">'),getValue:function(){return this.input.$.checked}},!0),e.Select.prototype=CKEDITOR.tools.extend(new t,{inputTemplate:new CKEDITOR.template('<select class="cke_a11yc_ui_input_select" id={id} aria-labelledby="{id}_label" aria-required="true"></select>')}),e}(h),f=function(t){function e(t){for(var e in this.viewer=t,this.templates={},this.templateDefinitions)this.templates[e]=new CKEDITOR.template(this.templateDefinitions[e]);this.inputs={},this.parts={},this.build()}function i(t,e){return function(i){var n=i.data.getKeystroke(),s=CKEDITOR.tools;(s.isArray(t)?-1!==s.indexOf(t,n):n==t)&&(e.call(this,i),i.data.preventDefault())}}return e.prototype={templateDefinitions:{wrapper:'<div role="presentation" class="cke_a11yc_ui_form"></div>',fieldset:'<div role="presentation" class="cke_a11yc_ui_form_fieldset"></div>',actionset:'<div role="presentation" class="cke_a11yc_ui_form_actionset"></div>',buttonWrapper:'<div class="cke_a11yc_ui_button_wrapper {class}"></div>',button:'<a href="javascript:void(0)" hidefocus="true" class="cke_a11yc_ui_button {class}" role="button"><span class="cke_a11yc_ui_button">{text}</span></a>'},addInput:function(e,i){this.inputs[e]=new(t[CKEDITOR.tools.capitalize(i.type)])(e,i),this.inputs[e].wrapper.appendTo(this.parts.fieldset),this.fire("addInput",this.inputs[e])},removeInput:function(t){this.inputs[t].remove(),this.fire("removeInput",this.inputs[t]),this.inputs[t]=null},setInputs:function(t){for(var e in this.removeInputs(),this.inputs={},t)this.addInput(e,t[e])},removeInputs:function(){for(var t in this.inputs)this.removeInput(t)},serialize:function(){var t={};for(var e in this.inputs)t[e]=this.inputs[e].getValue();return t},build:function(){var t=this.viewer.editor.lang.a11ychecker;this.parts={wrapper:CKEDITOR.dom.element.createFromHtml(this.templates.wrapper.output()),fieldset:CKEDITOR.dom.element.createFromHtml(this.templates.fieldset.output()),actionset:CKEDITOR.dom.element.createFromHtml(this.templates.actionset.output()),quickfixButton:CKEDITOR.dom.element.createFromHtml(this.templates.button.output({title:t.quickFixButtonTitle,text:t.quickFixButton,class:"cke_a11yc_ui_button_ok"})),ignoreButton:CKEDITOR.dom.element.createFromHtml(this.templates.button.output({title:t.ignoreBtnTitle,text:t.ignoreBtn,class:"cke_a11yc_ui_button_ignore"}))},this.parts.fieldset.appendTo(this.parts.wrapper),this.parts.actionset.appendTo(this.parts.wrapper);var e=CKEDITOR.dom.element.createFromHtml(this.templates.buttonWrapper.output({class:"cke_a11yc_ui_button_ok_wrapper"})),n=CKEDITOR.dom.element.createFromHtml(this.templates.buttonWrapper.output({class:"cke_a11yc_ui_button_ignore_wrapper"}));this.parts.quickfixButton.appendTo(e),this.parts.ignoreButton.appendTo(n),e.appendTo(this.parts.actionset),n.appendTo(this.parts.actionset),this.parts.quickfixButton.on("click",(function(t){this.fire("submit"),t.data.preventDefault()}),this),this.parts.fieldset.on("keydown",i(13,(function(t){this.fire("submit")})),this),this.parts.quickfixButton.on("keydown",i(32,(function(t){this.fire("submit")})),this),this.parts.ignoreButton.on("click",(function(t){this.fire("ignore"),t.data.preventDefault()}),this),this.parts.ignoreButton.on("keydown",(function(t){32==t.data.getKeystroke()&&(t.data.preventDefault(),this.fire("ignore"))}),this)},show:function(){this.parts.fieldset.show(),this.parts.quickfixButton.show()},hide:function(){this.parts.fieldset.hide(),this.parts.quickfixButton.hide()},setIgnored:function(t){var e=this.parts.ignoreButton;e.getFirst().setHtml(this.viewer.editor.lang.a11ychecker[t?"stopIgnoreBtn":"ignoreBtn"]),e.setAttribute("aria-pressed",t)}},CKEDITOR.event.implementOn(e.prototype),e}(p),g=function(){function t(t){for(var e in this.viewer=t,this.templates={},this.templateDefinitions)this.templates[e]=new CKEDITOR.template(this.templateDefinitions[e]);this.parts={},this.build()}return t.prototype={templateDefinitions:{wrapper:'<div class="cke_a11yc_ui_listening"></div>',info:"<p>{text}</p>",button:'<a href="javascript:void(0)" title="{title}" hidefocus="true" class="cke_a11yc_ui_button" role="button"><span class="cke_a11yc_ui_button">{text}</span></a>'},build:function(){var t=this.viewer.editor.lang.a11ychecker;this.parts={wrapper:CKEDITOR.dom.element.createFromHtml(this.templates.wrapper.output()),info:CKEDITOR.dom.element.createFromHtml(this.templates.info.output({text:t.listeningInfo})),button:CKEDITOR.dom.element.createFromHtml(this.templates.button.output({title:t.listeningCheckAgain,text:t.listeningCheckAgain}))},this.parts.wrapper.append(this.parts.info),this.parts.wrapper.append(this.parts.button),this.parts.button.on("click",(function(){this.fire("check")}),this)}},CKEDITOR.event.implementOn(t.prototype),t}(),m=function(){function t(){this.list=[]}return t.prototype={},t.prototype.constructor=t,t.prototype.count=function(){return this.list.length},t.prototype.addItem=function(t){t.on("keydown",this.keyDownListener,this),this.list.push(t),this.sort()},t.prototype.removeItem=function(t){"number"!=typeof t&&(t=CKEDITOR.tools.indexOf(this.list,t)),this.list[t].removeListener("keydown",this.keyDownListener),this.list.splice(t,1)},t.prototype.getItem=function(t){return this.list[t]},t.prototype.keyDownListener=function(t){var e=CKEDITOR.tools.indexOf(this.list,t.sender),i=t.data.getKey(),n=t.data.getKeystroke();if(-1!==e&&1!==this.list.length&&9==i){var s=n&CKEDITOR.SHIFT?this.getPrev(e):this.getNext(e);s&&(s.focus(),t.data.preventDefault(1),t.data.stopPropagation())}},t.prototype.getNext=function(t){var e,i,n,s=0,a=this.list.length;for("number"==typeof t&&a>t+1&&(s=t+1),e=this.getItem(s),i=1;a-1>i&&!e.isVisible();i++)(n=s+i)>=a&&(n-=a),e=this.getItem(n);return i!=a-1||e.isVisible()?e:void 0},t.prototype.getPrev=function(t){var e,i,n,s=this.list.length,a=s-1;for("number"==typeof t&&t>0&&(a=t-1),e=this.getItem(a),i=1;s-1>i&&!e.isVisible();i++)0>(n=a-i)&&(n=s+n),e=this.getItem(n);return i!=s-1||e.isVisible()?e:void 0},t.prototype.sort=function(){this.list.sort(this._sort)},t.prototype._sort=function(t,e){return t.getPosition(e)&CKEDITOR.POSITION_FOLLOWING?1:-1},t}(),v=function(){function t(t,e){this.viewer=t,CKEDITOR.tools.extend(this,e),this.panelShowListeners=this.panelShowListeners(t),this.activePanelShowlisteners=[]}return t.prototype={enterMode:function(){this.init&&this.init(this.viewer),this.addPanelShowListeners()},leaveMode:function(){this.close&&this.close(this.viewer),this.removePanelShowListeners()},addPanelShowListener:function(t){this.activePanelShowlisteners.push(t)},addPanelShowListeners:function(t){if(this.panelShowListeners)for(var e=0;e<this.panelShowListeners.length;e++)this.addPanelShowListener(this.viewer.panel.addShowListener(this.panelShowListeners[e]))},removePanelShowListeners:function(){for(var t;t=this.activePanelShowlisteners.pop();)t.removeListener()}},t}(),b=function(t,e,i,n,s,a){function o(t,e){this.editor=t,this.panel=new CKEDITOR.ui.balloonPanel(t,e),this.focusManager=new s,this.modes={},this.mode=null,this.lang=t.lang.a11ychecker;var i=this;this.panel.registerFocusable=function(t){i.focusManager.addItem(t),i.editor.focusManager.add(t)},this.panel.deregisterFocusable=function(t){i.focusManager.removeItem(t),i.editor.focusManager.remove(t)},this.panel.addShowListener((function(){return this.parts.panel.on("keydown",(function(t){27==t.data.getKeystroke()&&(this.blur(),this.hide(),t.data.preventDefault())}),this)})),this.setupNavigation(),this.setupDescription(),this.setupForm(),this.setupListeningIndicator(),this.panel.registerFocusable(this.panel.parts.close),this.setupModes(),this.setMode("checking"),this._fixAria()}return o.SCROLL_THROTTLING_RATE=50,o.prototype={modesDefinition:{listening:{attachToViewport:function(t){t.panel.parts.panel.setStyles({right:"10px",bottom:"10px"})},attachToEditable:function(t){var e=t.editor.ui.space("contents").getClientRect(),i=t.editor.document.getDocumentElement().getClientRect(),n=CKEDITOR.document.getWindow().getViewPaneSize();t.panel.parts.panel.setStyles({right:e.width-i.width+10+"px",bottom:n.height-e.bottom+10+"px"})},init:function(t){var e=this;t.panel.parts.panel.addClass("cke_a11yc_mode_listening"),t.panel.resize(250,"auto"),CKEDITOR.tools.setTimeout((function(){var i=t.panel.parts.panel.getClientRect(),n=CKEDITOR.document.getWindow().getViewPaneSize();t.panel.parts.panel.setStyles({position:"fixed",top:null,left:null,right:n.width-i.right+"px",bottom:n.height-i.bottom+"px"}),CKEDITOR.tools.setTimeout((function(){var i=t.editor.getCommand("maximize");e[i&&1===i.state?"attachToEditable":"attachToViewport"](t)}),0)}),0,this)},close:function(t){t.panel.parts.panel.removeClass("cke_a11yc_mode_listening"),t.panel.resize(t.panel.width,t.panel.height),t.panel.parts.panel.setStyles({position:"absolute",right:null,bottom:null})},panelShowListeners:function(t){var e=this;return[function(){return this.editor.on("maximize",(function(i){e[1===i.data?"attachToEditable":"attachToViewport"](t)}))}]}},checking:{panelShowListeners:function(t){return[function(){var e=t.editor,i=CKEDITOR.tools.eventsBuffer(o.SCROLL_THROTTLING_RATE,(function(){var i=e._.a11ychecker.issues.getFocused();i&&t.panel.attach(i.element,!1)}));return this.editor.window.on("scroll",i.input)},function(){return this.editor.on("resize",(function(){this.blur(),this.hide()}),this)}]}}},setupNavigation:function(){this.navigation=new e(this,this.editor.lang.a11ychecker),this.panel.registerFocusable(this.navigation.parts.previous),this.panel.registerFocusable(this.navigation.parts.next),this.panel.parts.content.append(this.navigation.parts.wrapper)},setupDescription:function(){this.description=new t(this),this.panel.parts.content.append(this.description.parts.wrapper)},setupForm:function(){this.form=new i(this,this.editor.lang.a11ychecker),this.form.on("addInput",(function(t){this.panel.registerFocusable(t.data.input)}),this),this.form.on("removeInput",(function(t){this.panel.deregisterFocusable(t.data.input)}),this),this.panel.registerFocusable(this.form.parts.ignoreButton),this.panel.registerFocusable(this.form.parts.quickfixButton),this.panel.parts.content.append(this.form.parts.wrapper)},setupListeningIndicator:function(){this.listeningIndicator=new n(this),this.panel.registerFocusable(this.listeningIndicator.parts.button),this.panel.parts.content.append(this.listeningIndicator.parts.wrapper)},setupModes:function(){for(var t in this.modesDefinition)this.modes[t]=new a(this,this.modesDefinition[t])},setMode:function(t){this.mode&&this.modes[this.mode].leaveMode(),this.modes[t].enterMode(),this.mode=t},_fixAria:function(){var t=this,e=t.panel.parts.panel,i=CKEDITOR.tools.getNextId(),n=CKEDITOR.tools.getNextId(),s=CKEDITOR.tools.getNextId();t.panel.parts.title.setAttribute("id",i),t.navigation.parts.counter.setAttribute("id",n),t.description.parts.wrapper.setAttribute("id",s),e.setAttribute("aria-labelledby",i+" "+n),e.setAttribute("aria-describedby",s)}},o}(u,d,f,g,m,v),y=function(t){function e(e,i){var n=e.editor;this.editor=n;var s=this.viewer=new t(n,i);this.a11ychecker=e,s.panel.on("attach",(function(){if(CKEDITOR.env.chrome){var t=s.panel.parts.panel,i=new CKEDITOR.dom.range(t.getDocument()),n=t.findOne(".cke_balloon_title");i.setStart(n,0),i.setEnd(n,0),t.getDocument().getSelection().selectRanges([i])}this.update(e.issues.getFocused())}),this),s.panel.parts.close.on("click",(function(t){this.a11ychecker.close()}),this),s.navigation.on("previous",(function(t){e.prev()})),s.navigation.on("next",(function(t){e.next()})),s.form.on("submit",this.quickFixAccepted,null,null,8),s.form.on("ignore",e.ignoreIssue,e),s.form.on("ignore",(function(){this.updateForm(e.issues.getFocused())}),this),this.on("next",(function(t){s.navigation.parts.next.focus()}),null,null,20),this.on("prev",(function(t){s.navigation.parts.previous.focus()}),null,null,20),s.listeningIndicator.on("check",(function(){e.check({ui:!0}),e.editor.focus()}),this)}return e.prototype={update:function(t){var e=this.a11ychecker.issues;this.viewer.navigation.update(e.indexOf(t),e.count(),t.testability),this.updateDescription(t),this.updateForm(t)},updateDescription:function(t){var e=this.viewer.description;t.getDetails((function(t){e.setTitle(t.title),e.setInfo(t.descr)}))},updateForm:function(t){var e=this,i=e.viewer.form,n=e.a11ychecker.getQuickFixLang();i.setIgnored(t.isIgnored()),i.setInputs({}),i.hide(),t.engine.getFixes(t,(function(t){var n=t.length;n&&(e.quickFixSelected=t[0]);for(var s=0;n>s;s++)t[s].display(i,e.editor);n&&i.show()}),n)},quickFixAccepted:function(t){var e,i=this.viewer.editor._.a11ychecker,n=i.viewerController,s=this.serialize(),a=n.quickFixSelected;if(a)if((e=a.validate(s)).length){alert(e.join(","));var o=CKEDITOR.tools.objectKeys(this.inputs);o.length&&this.inputs[o[0]].input.focus(),t.cancel()}else i.applyQuickFix(a,s);else console.error("No quickfix available!"),t.cancel()},showIssue:function(t,e){t.element.scrollIntoView(),this.viewer.panel.attach(t.element),e&&(e.event&&this.fire(e.event),e.callback&&e.callback.call(this))},startListening:function(){this.viewer.setMode("listening"),this.viewer.panel.show(),this.editor.focus()},stopListening:function(){this.viewer.panel.hide(),this.viewer.setMode("checking")}},CKEDITOR.event.implementOn(e.prototype),e}(b),x=function(){function t(e){if(this.controller=e,e){var i=t.parseConfig(e.editor.config.a11ychecker_keystrokes);this.setEditorHotkeys(e.editor,i),this.setBalloonHotkeys(e.viewerController,i)}}return t.prototype={},t.prototype.constructor=t,t.prototype.setEditorHotkeys=function(t,e){for(var i in e)t.setKeystroke(Number(i),e[i])},t.prototype.setBalloonHotkeys=function(t,e){var i=this,n=i.controller.editor,s=t.viewer.panel,a=s.parts.panel;s.addShowListener((function(){return a.on("keydown",i.getBalloonKeydown(n,e))}))},t.prototype.getBalloonKeydown=function(t,e){return function(i){var n=e[i.data.getKeystroke()];n&&(t.execCommand(n),i.data.preventDefault())}},t.parseConfig=function(t){var e,i,n={},s=t||{},a={open:CKEDITOR.CTRL+CKEDITOR.ALT+69,next:CKEDITOR.CTRL+69,prev:CKEDITOR.CTRL+CKEDITOR.SHIFT+69,listen:CKEDITOR.SHIFT+27,close:27};for(i in a)void 0===s[i]&&(s[i]=a[i]),e="open"==i?"":"."+i,n[s[i]]="a11ychecker"+e;return n},t}(),w=function(){function t(){}return t.getPreferredLanguage=function(t,e,i,n){var s=[t,e,"en"],a=/([a-z]+)(?:-([a-z]+))?/,o=(n=n||window.navigator).language||n.userLanguage,r=CKEDITOR.tools.indexOf;o&&s.splice(1,0,o);for(var c=0,l=s.length;l>c;c++)if(s[c]){var u=s[c].toLowerCase(),d=u.match(a),h=d[1];if(d[2]&&-1!==r(i,u))return u;if(-1!==r(i,h))return h}return null},t}(),C=function(t,e,i,n,s,a,o,r,c){function l(t){this._={},this.editor=t,this.editableDecorator=new n(this.editor),this.ui=new a(this),this.preferredIssueFinder=new s,t&&(this.viewerController=new o(this,{title:t.lang.a11ychecker.balloonLabel}),this.attachEditorListeners(t),this.hotkeyManager=new r(this))}return l.modes={CHECKING:1,LISTENING:2,BUSY:3},l.prototype={issues:null,viewerController:null,enabled:!1,disableFilterStrip:!1},l.prototype.constructor=l,l.prototype.setEngine=function(t){this.engine=t},l.prototype.exec=function(t){return this.enabled?void this.close():(this.issues&&this.issues.clear(),this.enable(),void this.check({ui:!0,callback:t}))},l.prototype.listen=function(){if(this.enabled){var t=l.modes;if(this.modeType===t.LISTENING)this.check();else{var e=this.issues.getFocused()&&this.issues.getFocused().element;this.setMode(t.LISTENING),e&&this.editor.getSelection().selectElement(e)}}},l.prototype.check=function(t){t=t||{};var e,i=this,n=i.editor;this.setMode(l.modes.BUSY),t.ui&&this.ui.show(),e=this.getTempOutput(),this.editableDecorator.applyMarkup(),this.editableDecorator.decorateScratchpad(e),this.disableFilterStrip=!0,e.setHtml(n.getData()),this.disableFilterStrip=!1,CKEDITOR.document.getBody().append(e),this.engine.process(this,e,(function(e){i._engineProcessed.call(i,e,t)}))},l.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.fire("disabled"))},l.prototype.enable=function(){this.enabled||(this.enabled=!0,this.fire("enabled"),this.setMode(l.modes.CHECKING))},l.prototype.next=function(t){var e;0!==this.issues.count()&&(e=this.issues.next(),this.viewerController.showIssue(e,{event:"next",callback:t}))},l.prototype.prev=function(t){var e;0!==this.issues.count()&&(e=this.issues.prev(),this.viewerController.showIssue(e,{event:"prev",callback:t}))},l.prototype.showIssue=function(t,e){var i,n,s=this.issues,a=t,o=function(){this.viewer.navigation.parts.next.focus(),e&&e.call(this)};return"number"!=typeof a&&(a=s.indexOf(a)),(i=s.getItem(a))&&i==s.getFocused()?(o.call(this.viewerController),!0):((n=s.moveTo(a))&&this.viewerController&&this.viewerController.showIssue(s.getItem(a),{callback:o}),n)},l.prototype.showIssueByElement=function(t,e){var i=this.issues.getIssueByElement(t);return!!i&&this.showIssue(i,e)},l.prototype.ignoreIssue=function(){var t=this.issues.getFocused();t&&(t.setIgnored(!t.isIgnored()),this.editableDecorator.markIssueElement(t,this.issues))},l.prototype.close=function(){this.enabled&&(this.ui.hide(),this.disable(),this.issues.clear(),this.preferredIssueFinder.unset(),this.mode.close(),this.mode=null,this.modeType=null)},l.prototype.setMode=function(n){var s,a={};if(a[l.modes.CHECKING]=t,a[l.modes.LISTENING]=e,a[l.modes.BUSY]=i,!(s=a[n]))throw new Error("Invalid mode value, use Controller.modes members");n!==this.modeType&&(this.mode&&this.mode.close(),this.mode=new s(this),this.mode.init(),this.modeType=n)},l.prototype.attachEditorListeners=function(t){var e=this,i=["a11ychecker","a11ychecker.listen","a11ychecker.next","a11ychecker.prev","a11ychecker.close","wysiwyg","source"];t.on("beforeSetMode",(function(){e.close()})),t.on("beforeCommandExec",(function(t){var n=String(t.data.name);-1===CKEDITOR.tools.indexOf(i,n)&&e.enabled&&e.setMode(l.modes.LISTENING)}),null,null,9999)},l.prototype.applyQuickFix=function(t,e){this._withUndoManager((function(){var e=this.mode,i=this.editor;this.editableDecorator.removeMarkup(),t.markSelection(i,i.getSelection()),e.unsetStoredSelection&&e.unsetStoredSelection(),this.editor.fire("updateSnapshot")})),t.fix(e,CKEDITOR.tools.bind(this._onQuickFix,this))},l.prototype._onQuickFix=function(t){this._withUndoManager((function(){this.editor.fire("saveSnapshot")}));var e={quickFix:t,issue:t.issue};!1!==this.fire("fixed",e,this.editor)&&this.check({ui:!0})},l.prototype._setIssueList=function(t){var e=this;t.sort(),t.on("focusChanged",(function(t){var i=t.data.current;i&&e.preferredIssueFinder.set(i)})),e.issues=t},l.prototype.onNoIssues=function(){alert(this.editor.lang.a11ychecker.noIssuesMessage),this.close()},l.prototype.getTempOutput=function(){var t=this._;return t.scratchpad||(t.scratchpad=CKEDITOR.document.createElement("div"),t.scratchpad.setStyle("display","none")),t.scratchpad},l.prototype.getQuickFixLang=function(){var t=this.editor,e=t.config,i=t.plugins.a11ychecker.quickFixesLang.split(",");return c.getPreferredLanguage(e.language,e.defaultLanguage,i)||i[0]},l.prototype._engineProcessed=function(t,e){var i,n,s=this;s.editableDecorator.resolveEditorElements(t),s._setIssueList(t),s.setMode(l.modes.CHECKING),e.ui&&s.ui.update(),i=s.fire("checked",{issues:t}),e.callback&&e.callback.call(s,!0===t.count(!0),t),!1!==i&&(t.count()?((n=s.preferredIssueFinder.getFromListIndex(t)||0)>=t.count()&&(n=0),s.showIssue(t.getItem(n))):s.onNoIssues())},l.prototype._withUndoManager=function(t){var e=this.editor,i=!!e.undoManager.locked;i&&e.fire("unlockSnapshot"),t.call(this),i&&e.fire("lockSnapshot",{dontUpdate:!0})},CKEDITOR.event.implementOn(l.prototype),l}(i,n,s,a,o,r,y,x,w),_=function(){function t(){}return t.prototype={guideline:c},t}(),function(){function t(t){return r(t)?o(t,"a11ychecker.next","next"):void 0}function i(t){return r(t)?o(t,"a11ychecker.prev","prev"):void 0}function n(t){return o(t,"a11ychecker","exec")}function s(t){return t._.a11ychecker.listen()}function a(t){return t._.a11ychecker.close()}function o(t,e,i){return t._.a11ychecker[i]((function(){t.fire("afterCommandExec",{name:e,command:t.getCommand(e),commandData:{}})}))}function r(t){var e=t._.a11ychecker;return e&&e.modeType===e.constructor.modes.CHECKING}var c="a11ychecker";CKEDITOR.plugins.add(c,{requires:"balloonpanel",lang:"en,nl,de,pt-br",quickFixesLang:"en,nl,de,pt-br",icons:"a11ychecker",hidpi:!0,onLoad:function(){this.path,CKEDITOR.document.appendStyleSheet("https://test.libretexts.org/alvin/public/ckeditor-a11ychecker/dist/skins/moono-lisa/a11ychecker.css"),function(t,e,i,n,s){CKEDITOR.tools.extend(CKEDITOR.plugins.a11ychecker,{Engine:t,Issue:e,IssueList:i,IssueDetails:n}),CKEDITOR.plugins.a11ychecker.quickFixes=new s("https://test.libretexts.org/a11y/ckeditor-a11ychecker/dist/quickfix/")}(T,I,k,E,e)},beforeInit:function(t){var e=this;t.config.a11ychecker_noIgnoreData||t.filter.allow("*[data-a11y-ignore]","a11ychecker"),this.createTemporaryNamespace(t),t.once("instanceReady",(function(){!function(i){var n=new i(t),s=t._.a11ychecker;t._.a11ychecker=n,s.getEngineType((function(i){n.setEngine(new i(e)),n.engine.config=n.engine.createConfig(t),s.fire("loaded",null,t)}))}(C)})),e.commandRegister.call(e,t),e.guiRegister(t)},guiRegister:function(t){t.ui.addButton&&t.ui.addButton("a11ychecker",{label:t.lang.a11ychecker.toolbar,command:c,toolbar:"insert"})},commandRegister:function(e){e.addCommand(c,{exec:n,async:!0,canUndo:!1,editorFocus:!1}),e.addCommand(c+".listen",{exec:s,canUndo:!1,editorFocus:!1}),e.addCommand(c+".next",{exec:t,async:!0,canUndo:!1,editorFocus:!1}),e.addCommand(c+".prev",{exec:i,async:!0,canUndo:!1,editorFocus:!1}),e.addCommand(c+".close",{exec:a})},createTemporaryNamespace:function(t){t._.a11ychecker={getEngineType:function(t){function e(t){this.jsonPath=(t?t.path:"")+"libs/quail/"}var i,n=CKEDITOR.plugins.a11ychecker,s=n.Engine,a=n.IssueList,o=n.Issue,r=n.IssueDetails,c=window.jQuery||window.$;!function(t){i=t}(_),function(){if(!c||!c.fn)throw new Error("Missing jQuery. Accessibility Checker's default engine, Quail.js requires jQuery to work correctly.");c.fn.quail||function(t){Function.prototype.bind=Function.prototype.bind||function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice,i=e.call(arguments,1),n=this,s=function(){},a=function(){return n.apply(this instanceof s?this:t||window,i.concat(e.call(arguments)))};return s.prototype=this.prototype,a.prototype=new s,a};var e={options:{},components:{},lib:{},testabilityTranslation:{0:"suggestion",.5:"moderate",1:"severe"},html:null,strings:{},accessibilityResults:{},accessibilityTests:null,guidelines:{wcag:{setup:function(t,e,i){for(var n in i=i||{},this.successCriteria)if(this.successCriteria.hasOwnProperty(n)){var s=this.successCriteria[n];s.registerTests(t),e&&e.listenTo&&"function"==typeof e.listenTo&&i.successCriteriaEvaluated&&e.listenTo(s,"successCriteriaEvaluated",i.successCriteriaEvaluated)}},successCriteria:{}}},tests:{},textSelector:":not(:empty)",suspectPHeaderTags:["strong","b","em","i","u","font"],suspectPCSSStyles:["color","font-weight","font-size","font-family"],focusElements:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",emoticonRegex:/((?::|;|B|P|=)(?:-)?(?:\)|\(|o|O|D|P))/g,selfClosingTags:["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],optionalClosingTags:["p","li","th","tr","td"],run:function(i){function n(t,e,i){if(i.guideline&&i.guideline.length){t.tests=t.lib.TestCollection([],{scope:t.html||null});for(var n=0,s=i.guideline.length;s>n;++n){var a=i.guideline[n];e[a]&&(e[a].scope=t.html||null,t.tests.set(a,e[a]))}}else t.tests=t.lib.TestCollection(e,{scope:t.html||null})}function s(){if(void 0!==i.customTests)for(var t in i.customTests)i.customTests.hasOwnProperty(t)&&(i.customTests[t].scope=e.html||null,e.tests.set(t,i.customTests[t]));var n=function(){};for(var s in e.guidelines)e.guidelines[s]&&"function"==typeof e.guidelines[s].setup&&e.guidelines[s].setup(e.tests,this,{successCriteriaEvaluated:i.successCriteriaEvaluated||n});e.tests.run({preFilter:i.preFilter||function(){},caseResolve:i.caseResolve||function(){},testComplete:i.testComplete||function(){},testCollectionComplete:i.testCollectionComplete||function(){},complete:i.complete||function(){}})}i.reset&&(e.accessibilityResults={}),e.tests=e.lib.TestCollection([],{scope:e.html||null}),"undefined"!=typeof quailBuilderTests?(e.tests=e.lib.TestCollection(quailBuilderTests,{scope:e.html||null}),s.call(e)):"wcag2"===i.guideline?e.lib.wcag2.run(i):i.accessibilityTests?(n(e,i.accessibilityTests,i),s.call(e)):(i.jsonPath,"string"==typeof i.guideline&&i.guideline,t.ajax({url:"https://test.libretexts.org/a11y/ckeditor-a11ychecker/dist/libs/quail/tests.json",dataType:"json",success:function(t){"object"==typeof t&&(n(e,t,i),s.call(e))},error:function(){throw new Error("Tests could not be loaded")}}))},listenTo:function(t,e,i){i=i.bind(this),t.registerListener.call(t,e,i)},getConfiguration:function(t){var e=this.tests.find(t),i=e&&e.get("guidelines"),n=i&&this.options.guidelineName&&i[this.options.guidelineName];return n&&n.configuration||!1},isUnreadable:function(t){return"string"!=typeof t||!t.trim().length},isDataTable:function(e){if(e.find("tr").length<3)return!1;if(e.find("th[scope]").length)return!0;var i=e.find("tr:has(td)").length,n=e.find("td[rowspan], td[colspan]"),s=!0;if(n.length){var a={};n.each((function(){void 0===a[t(this).index()]&&(a[t(this).index()]=0),a[t(this).index()]++})),t.each(a,(function(t,e){i>e&&(s=!1)}))}var o=e.find("table");if(o.length){var r={};o.each((function(){var e=t(this).parent("td").index();!1!==e&&void 0===r[e]&&(r[e]=0),r[e]++})),t.each(r,(function(t,e){i>e&&(s=!1)}))}return s},getTextContents:function(t){if(t.is("p, pre, blockquote, ol, ul, li, dl, dt, dd, figure, figcaption"))return t.text();for(var e="",i=t[0].childNodes,n=0,s=i.length;s>n;n+=1)3===i[n].nodeType&&(e+=i[n].nodeValue);return e},validURL:function(t){return-1===t.search(" ")},cleanString:function(t){return t.toLowerCase().replace(/^\s\s*/,"")},containsReadableText:function(i,n){if((i=i.clone()).find("option").remove(),!e.isUnreadable(i.text()))return!0;if(!e.isUnreadable(i.attr("alt")))return!0;if(n){var s=!1;if(i.find("*").each((function(){e.containsReadableText(t(this),!0)&&(s=!0)})),s)return!0}return!1}};if(window&&(window.quail=e),t.fn.quail=function(t){return this.length?(e.options=t,e.html=this,e.run(t),this):this},t.expr[":"].quailCss=function(e,i,n){var s=n[3].split(/\s*=\s*/);return t(e).css(s[0]).search(s[1])>-1},e.components.acronym=function(e,i,n){i.get("$scope").each((function(){var e=t(this),s={},a={};e.find("acronym[title], abbr[title]").each((function(){a[t(this).text().toUpperCase().trim()]=t(this).attr("title")})),e.find("p, div, h1, h2, h3, h4, h5").each((function(){var e=this,o=t(e),r=o.text().split(" "),c=[];r.length>1&&o.text().toUpperCase()!==o.text()?(t.each(r,(function(t,e){e.length<2||(e=e.replace(/[^a-zA-Zs]/,"")).toUpperCase()===e&&void 0===a[e.toUpperCase().trim()]&&(void 0===s[e.toUpperCase()]&&c.push(e),s[e.toUpperCase()]=e)})),i.add(n(c.length?{element:e,expected:o.closest(".quail-test").data("expected"),info:{acronyms:c},status:"failed"}:{element:e,expected:o.closest(".quail-test").data("expected"),status:"passed"}))):i.add(n({element:e,expected:o.closest(".quail-test").data("expected"),status:"passed"}))}))}))},e.components.color=function(){function i(e){return""!==t.trim(e)}var n={cache:{},getLuminosity:function(t,e){var i="getLuminosity_"+t+"_"+e;if(t=n.parseColor(t),e=n.parseColor(e),void 0!==n.cache[i])return n.cache[i];var s,a,o=t.r/255,r=t.g/255,c=t.b/255,l=.03928>=o?o/12.92:Math.pow((o+.055)/1.055,2.4),u=.03928>=r?r/12.92:Math.pow((r+.055)/1.055,2.4),d=.03928>=c?c/12.92:Math.pow((c+.055)/1.055,2.4),h=e.r/255,p=e.g/255,f=e.b/255;return s=.2126*l+.7152*u+.0722*d,a=.2126*(.03928>=h?h/12.92:Math.pow((h+.055)/1.055,2.4))+.7152*(.03928>=p?p/12.92:Math.pow((p+.055)/1.055,2.4))+.0722*(.03928>=f?f/12.92:Math.pow((f+.055)/1.055,2.4)),n.cache[i]=Math.round((Math.max(s,a)+.05)/(Math.min(s,a)+.05)*10)/10,n.cache[i]},fetchImageColorAtPixel:function(t,e,i){e=void 0!==e?e:1,i=void 0!==i?i:1;var n=document.createElement("canvas").getContext("2d");n.drawImage(t,0,0);var s=n.getImageData(e,i,1,1).data;return"rgb("+s[0]+","+s[1]+","+s[2]+")"},testElmContrast:function(t,e,i){var s=n.getColor(e,"background");return n.testElmBackground(t,e,s,i)||"A"==e[0].tagName||"A"==e[0].parentElement.tagName},testElmBackground:function(t,e,i,s){var a,o=n.getColor(e,"foreground");return"wcag"===t?a=n.passesWCAGColor(e,o,i,s):"wai"===t&&(a=n.passesWAIColor(o,i)),a},passesWCAGColor:function(t,i,s,a){var o=e.components.convertToPx(t.css("fontSize"));if(void 0===a)if(o>=18)a=3;else{var r=t.css("fontWeight");a=o>=14&&("bold"===r||parseInt(r,10)>=700)?3:4.5}return n.getLuminosity(i,s)>a},passesWAIColor:function(t,e){var i=n.getWAIErtContrast(t,e),s=n.getWAIErtBrightness(t,e);return i>500&&s>125},getWAIErtContrast:function(t,e){var i=n.getWAIDiffs(t,e);return i.red+i.green+i.blue},getWAIErtBrightness:function(t,e){var i=n.getWAIDiffs(t,e);return(299*i.red+587*i.green+114*i.blue)/1e3},getWAIDiffs:function(t,e){return{red:Math.abs(t.r-e.r),green:Math.abs(t.g-e.g),blue:Math.abs(t.b-e.b)}},getColor:function(e,i){var s=n;e.attr("data-cacheId")||e.attr("data-cacheId","id_"+Math.random());var a="getColor_"+i+"_"+e.attr("data-cacheId");if(void 0!==n.cache[a])return n.cache[a];if("foreground"===i)return n.cache[a]=e.css("color")?e.css("color"):"rgb(0,0,0)",n.cache[a];var o=e.css("background-color");return n.hasBackgroundColor(o)?(n.cache[a]=o,n.cache[a]):(e.parents().each((function(){var e=t(this).css("background-color");return n.hasBackgroundColor(e)?s.cache[a]=e:void 0})),n.cache[a]="rgb(255,255,255)",n.cache[a])},getForeground:function(t){return n.getColor(t,"foreground")},parseColor:function(t){return"object"==typeof t?t:"#"===t.substr(0,1)?{r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16),a:!1}:"rgb"===t.substr(0,3)?{r:(t=t.replace("rgb(","").replace("rgba(","").replace(")","").split(","))[0],g:t[1],b:t[2],a:void 0!==t[3]&&t[3]}:void 0},getBackgroundImage:function(e){e.attr("data-cacheId")||e.attr("data-cacheId","id_"+Math.random());var i="getBackgroundImage_"+e.attr("data-cacheId");if(void 0!==n.cache[i])return n.cache[i];for(e=e[0];e&&1===e.nodeType&&"BODY"!==e.nodeName&&"HTML"!==e.nodeName;){var s=t(e).css("background-image");if(s&&"none"!==s&&-1!==s.search(/^(.*?)url(.*?)$/i))return n.cache[i]=s.replace("url(","").replace(/['"]/g,"").replace(")",""),n.cache[i];e=e.parentNode}return n.cache[i]=!1,!1},getBackgroundGradient:function(e){e.attr("data-cacheId")||e.attr("data-cacheId","id_"+Math.random());var i="getBackgroundGradient_"+e.attr("data-cacheId");if(void 0!==n.cache[i])return n.cache[i];var s=function(e){return""!==t.trim(e)};for(e=e[0];e&&1===e.nodeType&&"BODY"!==e.nodeName&&"HTML"!==e.nodeName;){if(n.hasBackgroundColor(t(e).css("background-color")))return n.cache[i]=!1,!1;var a=t(e).css("backgroundImage");if(a&&"none"!==a&&-1!==a.search(/^(.*?)gradient(.*?)$/i)){var o=a.match(/gradient(\(.*\))/g);if(o.length>0)return o=o[0].replace(/(linear|radial|from|\bto\b|gradient|top|left|bottom|right|\d*%)/g,""),n.cache[i]=t.grep(o.match(/(rgb\([^\)]+\)|#[a-z\d]*|[a-z]*)/g),s),n.cache[i]}e=e.parentNode}return n.cache[i]=!1,!1},getAverageRGB:function(t){var e=t.src;if(void 0!==n.cache[e])return n.cache[e];var i,s,a,o,r={r:0,g:0,b:0},c=document.createElement("canvas"),l=c.getContext&&c.getContext("2d"),u=-4,d={r:0,g:0,b:0,a:0},h=0;if(!l)return n.cache[e]=r,r;a=c.height=t.height,s=c.width=t.width,l.drawImage(t,0,0);try{i=l.getImageData(0,0,s,a)}catch(t){return n.cache[e]=r,r}for(o=i.data.length;(u+=20)<o;)++h,d.r+=i.data[u],d.g+=i.data[u+1],d.b+=i.data[u+2];return d.r=~~(d.r/h),d.g=~~(d.g/h),d.b=~~(d.b/h),n.cache[e]=d,d},colorToHex:function(t){var e=/rgba?\((\d+), (\d+), (\d+)/.exec(t);return e?"#"+(1<<24|e[1]<<16|e[2]<<8|e[3]).toString(16).substr(1):t},hasBackgroundColor:function(t){return"rgba(0, 0, 0, 0)"!==t&&"transparent"!==t},traverseVisualTreeForBackground:function(e,s){e.attr("data-cacheId")||e.attr("data-cacheId","id_"+Math.random());var a="traverseVisualTreeForBackground_"+e.attr("data-cacheId")+"_"+s;if(void 0!==n.cache[a])return n.cache[a];var o,r=[];e[0].scrollIntoView();var c=e.offset().left-t(window).scrollLeft(),l=e.offset().top-t(window).scrollTop();r.push({element:e,visibility:e.css("visibility")}),e.css("visibility","hidden");for(var u=document.elementFromPoint(c,l);void 0===o&&u&&"BODY"!==u.tagName&&"HTML"!==u.tagName;){var d,h=(u=t(u)).css("backgroundColor");switch(s){case"background-color":n.hasBackgroundColor(h)&&(o=h);break;case"background-gradient":if(n.hasBackgroundColor(h)){o=!1;continue}if((d=u.css("backgroundImage"))&&"none"!==d&&-1!==d.search(/^(.*?)gradient(.*?)$/i)){var p=d.match(/gradient(\(.*\))/g);p.length>0&&(p=p[0].replace(/(linear|radial|from|\bto\b|gradient|top|left|bottom|right|\d*%)/g,""),o=t.grep(p.match(/(rgb\([^\)]+\)|#[a-z\d]*|[a-z]*)/g),i))}break;case"background-image":if(n.hasBackgroundColor(h)){o=!1;continue}(d=u.css("backgroundImage"))&&"none"!==d&&-1!==d.search(/^(.*?)url(.*?)$/i)&&(o=d.replace("url(","").replace(/['"]/g,"").replace(")",""))}r.push({element:u,visibility:u.css("visibility")}),u.css("visibility","hidden"),u=document.elementFromPoint(c,l)}for(var f=0;f<r.length;f++)r[f].element.css("visibility",r[f].visibility);return n.cache[a]=o,o},getBehindElementBackgroundColor:function(t){return n.traverseVisualTreeForBackground(t,"background-color")},getBehindElementBackgroundGradient:function(t){return n.traverseVisualTreeForBackground(t,"background-gradient")},getBehindElementBackgroundImage:function(t){return n.traverseVisualTreeForBackground(t,"background-image")}};return{colors:n,textShouldBeTested:function(i){var n=i.parentNode,s=t(n);return 1===n.nodeType&&-1===["script","style","title","object","applet","embed","template","noscript"].indexOf(n.nodeName.toLowerCase())&&!e.isUnreadable(s.text())},postInvoke:function(t){function e(t){return Object.keys(t).length}var i={},n=t.groupCasesBySelector();for(var s in n)n.hasOwnProperty(s)&&n[s].each((function(t,e){e.get("status")===i&&(i[s]="")}));return e(i)===e(n)},buildCase:function(t,i,n,s,a,o){t.add(i({element:n,expected:function(t,i){return e.components.resolveExpectation(t,i)}(n,a),message:o,status:s}))}}}(),e.components.content={findContent:function(e){var i=e;return e.is("[role=main]")?e:e.find("[role=main]").length?e.find("[role=main]").first():0===e.find("p").length?e:(e.find("p").each((function(){var e=t(this).parent(),n=e.get(0),s=e.data("content-score")||0;e.data("content-score")||(s=e.find("p").length,n.className.match(/(comment|meta|footer|footnote)/)?s-=50:n.className.match(/((^|\\s)(post|hentry|entry[-]?(content|text|body)?|article[-]?(content|text|body)?)(\\s|$))/)&&(s+=25),n.id.match(/(comment|meta|footer|footnote)/)?s-=50:n.id.match(/^(post|hentry|entry[-]?(content|text|body)?|article[-]?(content|text|body)?)$/)&&(s+=25),e.data("content-score",s)),s+=t(this).text().split(",").length,(void 0===i.data("content-score")||s>i.data("content-score"))&&(i=e)})),i)}},e.components.convertToPx=function(i){if(i.search("px")>-1)return parseInt(i,10);var n=t('<div style="display: none; font-size: 1em; margin: 0; padding:0; height: '+i+'; line-height: 1; border:0;">&nbsp;</div>').appendTo(e.html),s=n.height();return n.remove(),s},e.components.event=function(e,i,n,s){var a=i.get("$scope"),o=s.selector&&a.find(s.selector)||a.find("*"),r=s.searchEvent||"",c=s.correspondingEvent||"";o.each((function(){var s,a=r.replace("on",""),o=e.components.hasEventListener(t(this),a);t._data&&(s=t._data(this,"events"));var l=s&&s[a]&&!!s[a].length,u=!!c.length,d=e.components.hasEventListener(t(this),c.replace("on","")),h=t(this).closest(".quail-test").data("expected");i.add(n({element:this,expected:h})).set(!o&&!l||u&&d?{status:"passed"}:{status:"failed"})}))},e.components.hasEventListener=function(e,i){return void 0!==t(e).attr("on"+i)||!(!t._data(t(e)[0],"events")||void 0===t._data(t(e)[0],"events")[i])||(!t(e).is("a[href], input, button, video, textarea")||void 0===t(e)[0][i]||"click"!==i&&"focus"!==i||!(t(e)[0][i].toString().search(/^\s*function\s*(\b[a-z$_][a-z0-9$_]*\b)*\s*\((|([a-z$_][a-z0-9$_]*)(\s*,[a-z$_][a-z0-9$_]*)*)\)\s*{\s*\[native code\]\s*}\s*$/i)>-1))&&void 0!==t(e)[0][i]},e.components.headingLevel=function(e,i,n,s){var a=!1;i.get("$scope").find(":header").each((function(){var o=parseInt(t(this).get(0).tagName.substr(-1,1),10),r=this;i.add(n(a===s.headingLevel&&o>a+1&&5!=o&&6!=o?{element:r,expected:function(t){return e.components.resolveExpectation(t)}(r),status:"failed"}:{element:this,expected:function(t){return e.components.resolveExpectation(t)}(r),status:"passed"})),a=o}))},e.components.htmlSource={getHtml:function(i){if(void 0!==e.options.htmlSource&&e.options.htmlSource)i(e.options.htmlSource,this.parseHtml(e.options.htmlSource));else{var n=t.ajax({url:window.location.href,async:!1});n&&void 0!==n.responseText&&i(n.responseText,this.parseHtml(n.responseText))}},traverse:function(e,i,n,s){var a=this;void 0===s&&i(e,n,!1),void 0!==e.children&&(e.childCount=1,t.each(e.children,(function(t,n){i(n,e.childCount,e),a.traverse(n,i,e.childCount,!0),"tag"===n.type&&e.childCount++}))),t.isArray(e)&&t.each(e,(function(t,e){a.traverse(e,i)}))},addSelector:function(t,e,i){if("tag"===t.type&&void 0!==t.name&&void 0===t.selector){t.selector=i&&void 0!==i.selector?i.selector.slice():[];var n=t.name;return void 0!==t.attributes&&(void 0!==t.attributes.id?n+="#"+t.attributes.id[0]:void 0!==t.attributes.class&&(n+="."+t.attributes.class[0].replace(/\s/,"."))),!e||void 0!==t.attributes&&void 0!==t.attributes.id||(n+=":nth-child("+e+")"),t.selector.push(n),t.selector}},parseHtml:function(t){if("undefined"==typeof Tautologistics)return!1;t=t.replace(/<!doctype ([^>]*)>/g,"");var e=new Tautologistics.NodeHtmlParser.HtmlBuilder((function(){}),{});new Tautologistics.NodeHtmlParser.Parser(e).parseComplete(t);var i=e.dom;return this.traverse(i,this.addSelector),i}},"undefined"!=typeof Tautologistics){var i={Text:"text",Tag:"tag",Attr:"attr",CData:"cdata",Comment:"comment"};Tautologistics.NodeHtmlParser.HtmlBuilder.prototype.write=function(t){var e,n;if(this._done&&this.handleCallback(new Error("Writing to the builder after done() called is not allowed without a reset()")),this._options.includeLocation&&t.type!==i.Attr&&(t.location=this._getLocation(),this._updateLocation(t)),t.type!==i.Text||!this._options.ignoreWhitespace||!HtmlBuilder.reWhitespace.test(t.data))if(this._tagStack.last())if(e=this._tagStack.last(),t.type===i.Tag)if("/"===t.name.charAt(0)){var s=this._options.caseSensitiveTags?t.name.substring(1):t.name.substring(1).toLowerCase();if(e.name===s&&(e.closingTag=!0),!this.isEmptyTag(t)){for(var a=this._tagStack.length-1;a>-1&&this._tagStack[a--].name!==s;);if(a>-1||this._tagStack[0].name===s)for(;a<this._tagStack.length-1;)this._tagStack.pop()}}else t.type===i.Attr?(e.attributes||(e.attributes={}),void 0===e.attributes[this._options.caseSensitiveAttr?t.name:t.name.toLowerCase()]&&(e.attributes[this._options.caseSensitiveAttr?t.name:t.name.toLowerCase()]=[]),e.attributes[this._options.caseSensitiveAttr?t.name:t.name.toLowerCase()].push(t.data)):(n=this._copyElement(t),e.children||(e.children=[]),e.children.push(n),this.isEmptyTag(n)||this._tagStack.push(n),t.type===i.Tag&&(this._lastTag=n));else e=this._tagStack.last(),t.type===i.Attr?(e.attributes||(e.attributes={}),void 0===e.attributes[this._options.caseSensitiveAttr?t.name:t.name.toLowerCase()]&&(e.attributes[this._options.caseSensitiveAttr?t.name:t.name.toLowerCase()]=[]),e.attributes[this._options.caseSensitiveAttr?t.name:t.name.toLowerCase()].push(t.data)):(e.children||(e.children=[]),e.children.push(this._copyElement(t)));else t.type===i.Tag?"/"!==t.name.charAt(0)&&((n=this._copyElement(t)).closingTag=!0,this.dom.push(n),this.isEmptyTag(n)||this._tagStack.push(n),this._lastTag=n):t.type===i.Attr&&this._lastTag?(this._lastTag.attributes||(this._lastTag.attributes={}),void 0===this._lastTag.attributes[this._options.caseSensitiveAttr?t.name:t.name.toLowerCase()]&&(this._lastTag.attributes[this._options.caseSensitiveAttr?t.name:t.name.toLowerCase()]=[]),this._lastTag.attributes[this._options.caseSensitiveAttr?t.name:t.name.toLowerCase()].push(t.data)):this.dom.push(this._copyElement(t))}}e.components.htmlTagValidator=function(){var t,e,i,n,s,a,o=new RegExp("[dD]"),r=new RegExp("[a-z0-9-]"),c=new RegExp("^\x3c!--.*--\x3e"),l=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],u=["pre","code","textarea","script","style"],d=["p","li","tr","th","td"],h=function(t,i){return{name:e,line:t+1,char:i}},p=function(t){var e=new Error("Ending tag not found for: "+t.name+" at line: "+t.line+" char: "+t.char+" starting tags: "+i[0].name);throw e.lineData=t,e},f=function(e){t=e},g=function(t){n-=t},m=function(t,n,s){if(r.test(t))e+=t;else if("/"===t)f(x);else if("!"===t)e="",f(E);else if(l.indexOf(e)>-1)a.strict_self_closing_tags?f(v):(e="",f(y));else{var o=h(n,s);i.push(o),u.indexOf(e)>-1?(e="",g(1),f(k)):(e="",g(1),f(b))}},v=function(t,i,n){"/"===t?(e="",f(C)):">"===t&&function(t){var e=new Error("Ending `/` not found for: `"+t.name+"` at line: "+t.line+" char: "+t.char);throw e.lineData=t.name,e}(h(i,n))},b=function(t){">"===t&&f(C)},y=function(t){"<"===t&&f(m)},x=function(t){r.test(t)?e+=t:(function t(){var n=i.pop();n.name===e?f(y):d.indexOf(n.name)>-1?t():p(n)}(),e="")},w=function(t){"/"===t?f(x):(g(1),f(m))},C=function(t){"<"===t&&f(w)},k=function(t){"<"===t&&f(T)},T=function(t){"/"===t&&f(I)},I=function(t){if(r.test(t))e+=t;else{var n=i.pop();n.name===e?f(y):p(n),e=""}},E=function(t){o.test(t)?(e="",f(y)):(g(3),f(_))},_=function(t,e,i){s||(s={content:"",line:e+1,char:i+1,name:"comment"}),s.content+=t,c.test(s.content)&&(s=null,f(y))};return function(o,r){var c=null;try{var l,u=o.split("\n");f(y),e="",i=[],s=null,a=r||{};for(var h=0,g=u.length;g>h;h++)for(n=0,l=u[h].length;l>n&&t;n++)t(u[h][n],h,n);if(s)!function(t){var e=new Error("Comment ending not found for: `comment` at line: "+t.line+" char: "+t.char);throw e.lineData=t,e}(s);else if(i.length>0){var m=i[i.length-1];-1===d.indexOf(m.name)&&p(m)}c=null}catch(t){c=t.message}finally{return c}}}(),e.components.label=function(e,i,n,s){i.get("$scope").each((function(){var a=t(this);a.find(s.selector).each((function(){i.add(n(t(this).parent("label").length&&a.find("label[for="+t(this).attr("id")+"]").length&&e.containsReadableText(t(this).parent("label"))||e.containsReadableText(a.find("label[for="+t(this).attr("id")+"]"))?{element:this,expected:t(this).closest(".quail-test").data("expected"),status:"passed"}:{element:this,expected:t(this).closest(".quail-test").data("expected"),status:"failed"}))}))}))},e.components.labelProximity=function(e,i,n,s){var a=i.get("$scope");a.find(s.selector).each((function(){var e=a.find("label[for="+t(this).attr("id")+"]").first();i.add(n(e.length&&t(this).parent().is(e.parent())?{element:this,expected:t(this).closest(".quail-test").data("expected"),status:"passed"}:{element:this,expected:t(this).closest(".quail-test").data("expected"),status:"failed"}))}))},e.components.language={maximumDistance:300,textDirection:{rtl:/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,ltr:/[\u0041-\u007A]|[\u00C0-\u02AF]|[\u0388-\u058F]/gm},textDirectionChanges:{rtl:/[\u200E]|&rlm;/gm,ltr:/[\u200F]|&lrm;/gm},scripts:{basicLatin:{regularExpression:/[\u0041-\u007F]/g,languages:["ceb","en","eu","ha","haw","id","la","nr","nso","so","ss","st","sw","tlh","tn","ts","xh","zu","af","az","ca","cs","cy","da","de","es","et","fi","fr","hr","hu","is","it","lt","lv","nl","no","pl","pt","ro","sk","sl","sq","sv","tl","tr","ve","vi"]},arabic:{regularExpression:/[\u0600-\u06FF]/g,languages:["ar","fa","ps","ur"]},cryllic:{regularExpression:/[\u0400-\u04FF]|[\u0500-\u052F]/g,languages:["bg","kk","ky","mk","mn","ru","sr","uk","uz"]}},scriptSingletons:{bn:/[\u0980-\u09FF]/g,bo:/[\u0F00-\u0FFF]/g,el:/[\u0370-\u03FF]/g,gu:/[\u0A80-\u0AFF]/g,he:/[\u0590-\u05FF]/g,hy:/[\u0530-\u058F]/g,ja:/[\u3040-\u309F]|[\u30A0-\u30FF]/g,ka:/[\u10A0-\u10FF]/g,km:/[\u1780-\u17FF]|[\u19E0-\u19FF]/g,kn:/[\u0C80-\u0CFF]/g,ko:/[\u1100-\u11FF]|[\u3130-\u318F]|[\uAC00-\uD7AF]/g,lo:/[\u0E80-\u0EFF]/g,ml:/[\u0D00-\u0D7F]/g,mn:/[\u1800-\u18AF]/g,or:/[\u0B00-\u0B7F]/g,pa:/[\u0A00-\u0A7F]/g,si:/[\u0D80-\u0DFF]/g,ta:/[\u0B80-\u0BFF]/g,te:/[\u0C00-\u0C7F]/g,th:/[\u0E00-\u0E7F]/g,zh:/[\u3100-\u312F]|[\u2F00-\u2FDF]/g},getDocumentLanguage:function(t,i){var n=navigator.language||navigator.userLanguage;return void 0!==e.options.language&&(n=e.options.language),t.parents("[lang]").length&&(n=t.parents("[lang]:first").attr("lang")),void 0!==t.attr("lang")&&(n=t.attr("lang")),n=n.toLowerCase().trim(),i?n.split("-")[0]:n}},e.components.placeholder=function(e,i,n,s){var a=function(e,s){i.add(n({element:e,expected:t(e).closest(".quail-test").data("expected"),status:s}))};i.get("$scope").find(s.selector).each((function(){var i="";if("none"!==t(this).css("display")||t(this).is("title")){if(void 0!==s.attribute){if((void 0===t(this).attr(s.attribute)||"tabindex"===s.attribute&&t(this).attr(s.attribute)<=0)&&!s.content)return void a(this,"failed");t(this).attr(s.attribute)&&"undefined"!==t(this).attr(s.attribute)&&(i+=t(this).attr(s.attribute))}if((void 0===s.attribute||!s.attribute||s.content)&&(i+=t(this).text(),t(this).find("img[alt]").each((function(){i+=t(this).attr("alt")}))),"string"==typeof i&&i.length>0){i=e.cleanString(i);var n=/^([0-9]*)(k|kb|mb|k bytes|k byte)$/g.exec(i.toLowerCase());n&&n[0].length||s.empty&&e.isUnreadable(i)||e.strings.placeholders.indexOf(i)>-1?a(this,"failed"):a(this,"passed")}else s.empty&&"number"!=typeof i&&a(this,"failed")}else a(this,"inapplicable")}))},e.components.resolveExpectation=function(e,i){var n,s=t(e).closest(".quail-test"),a=s.data("expected");i||(n=s.data("expected"));var o="string"==typeof a&&a.split("|");if(i&&0===o.length&&a.indexOf(":")>-1&&(o=[a]),o.length>0&&1===e.nodeType)for(var r,c,l=0,u=o.length;u>l;++l)if(r=o[l].split(":"),i){if(r[0]===i){if(!r[1]||"ignore"===r[1])return;n=r[1]}}else if(1===(c=t(r[0],s)).length&&e===c.get(0)){if(!r[1]||"ignore"===r[1])return;n=r[1]}return n},e.components.selector=function(e,i,n,s){this.get("$scope").each((function(){var n=t(this),a=t(this).find(s.selector);a.length?a.each((function(){var n,a=t(this);n=s.test&&!a.is(s.test)?"passed":"failed",i.add(e.lib.Case({element:this,expected:a.closest(".quail-test").data("expected"),status:n}))})):i.add(e.lib.Case({element:void 0,expected:n.data("expected")||n.find("[data-expected]").data("expected"),status:s.test?"inapplicable":"passed"}))}))},e.statistics={setDecimal:function(t,e){var i=Math.pow(10,e||0);return e?Math.round(i*t)/i:t},average:function(t,i){for(var n=t.length,s=0;n--;)s+=t[n];return e.statistics.setDecimal(s/t.length,i)},variance:function(t,i){for(var n=e.statistics.average(t,i),s=t.length,a=0;s--;)a+=Math.pow(t[s]-n,2);return a/=t.length,e.statistics.setDecimal(a,i)},standardDeviation:function(t,i){var n=Math.sqrt(e.statistics.variance(t,i));return e.statistics.setDecimal(n,i)}},e.components.textStatistics={cleanText:function(t){return t.replace(/[,:;()\-]/," ").replace(/[\.!?]/,".").replace(/[ ]*(\n|\r\n|\r)[ ]*/," ").replace(/([\.])[\. ]+/,"$1").replace(/[ ]*([\.])/,"$1").replace(/[ ]+/," ").toLowerCase()},sentenceCount:function(t){return t.split(".").length+1},wordCount:function(t){return t.split(" ").length+1},averageWordsPerSentence:function(t){return this.wordCount(t)/this.sentenceCount(t)},averageSyllablesPerWord:function(e){var i=this,n=0,s=i.wordCount(e);return s?(t.each(e.split(" "),(function(t,e){n+=i.syllableCount(e)})),n/s):0},syllableCount:function(t){var e=t.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/,"").match(/[aeiouy]{1,2}/g);return e&&0!==e.length?e.length:1}},e.components.video={isVideo:function(e){var i=!1;return t.each(this.providers,(function(){e.is(this.selector)&&this.isVideo(e)&&(i=!0)})),i},findVideos:function(e,i){t.each(this.providers,(function(n,s){e.find(this.selector).each((function(){var e=t(this);s.isVideo(e)&&s.hasCaptions(e,i)}))}))},providers:{youTube:{selector:"a, iframe",apiUrl:"http://gdata.youtube.com/feeds/api/videos/?q=%video&caption&v=2&alt=json",isVideo:function(t){return!1!==this.getVideoId(t)},getVideoId:function(t){var e=t.is("iframe")?"src":"href",i=t.attr(e).match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&\?]*).*/);return!(!i||11!==i[7].length)&&i[7]},hasCaptions:function(e,i){var n=this.getVideoId(e);t.ajax({url:this.apiUrl.replace("%video",n),async:!1,dataType:"json",success:function(t){i(e,t.feed.openSearch$totalResults.$t>0)}})}},flash:{selector:"object",isVideo:function(e){var i=!1;return 0!==e.find("param").length&&(e.find("param[name=flashvars]").each((function(){t(this).attr("value").search(/\.(flv|mp4)/i)>-1&&(i=!0)})),i)},hasCaptions:function(e,i){var n=!1;e.find("param[name=flashvars]").each((function(){(t(this).attr("value").search("captions")>-1&&t(this).attr("value").search(".srt")>-1||t(this).attr("value").search("captions.pluginmode")>-1)&&(n=!0)})),i(e,n)}},videoElement:{selector:"video",isVideo:function(t){return t.is("video")},hasCaptions:function(i,n){var s=i.find("track[kind=subtitles], track[kind=captions]");if(s.length){var a=e.components.language.getDocumentLanguage(i,!0);i.parents("[lang]").length&&(a=i.parents("[lang]").first().attr("lang").split("-")[0]);var o=!1;return s.each((function(){if(!t(this).attr("srclang")||t(this).attr("srclang").toLowerCase()===a){o=!0;try{404===t.ajax({url:t(this).attr("src"),type:"HEAD",async:!1,error:function(){}}).status&&(o=!1)}catch(t){}}})),o?void n(i,!0):void n(i,!1)}n(i,!1)}}}},e.strings.colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},e.strings.languageCodes=["bh","bi","nb","bs","br","bg","my","es","ca","km","ch","ce","ny","ny","zh","za","cu","cu","cv","kw","co","cr","hr","cs","da","dv","dv","nl","dz","en","eo","et","ee","fo","fj","fi","nl","fr","ff","gd","gl","lg","ka","de","ki","el","kl","gn","gu","ht","ht","ha","he","hz","hi","ho","hu","is","io","ig","id","ia","ie","iu","ik","ga","it","ja","jv","kl","kn","kr","ks","kk","ki","rw","ky","kv","kg","ko","kj","ku","kj","ky","lo","la","lv","lb","li","li","li","ln","lt","lu","lb","mk","mg","ms","ml","dv","mt","gv","mi","mr","mh","ro","ro","mn","na","nv","nv","nd","nr","ng","ne","nd","se","no","nb","nn","ii","ny","nn","ie","oc","oj","cu","cu","cu","or","om","os","os","pi","pa","ps","fa","pl","pt","pa","ps","qu","ro","rm","rn","ru","sm","sg","sa","sc","gd","sr","sn","ii","sd","si","si","sk","sl","so","st","nr","es","su","sw","ss","sv","tl","ty","tg","ta","tt","te","th","bo","ti","to","ts","tn","tr","tk","tw","ug","uk","ur","ug","uz","ca","ve","vi","vo","wa","cy","fy","wo","xh","yi","yo","za","zu"],e.strings.newWindow=[/new (browser )?(window|frame)/,/popup (window|frame)/],e.strings.placeholders=["title","untitled","untitled document","this is the title","the title","content"," ","new page","new","nbsp","&nbsp;","spacer","image","img","photo","frame","frame title","iframe","iframe title","legend"],e.strings.redundant={inputImage:["submit","button"],link:["link to","link","go to","click here","link","click","more"],required:["*"]},e.strings.siteMap=["site map","map","sitemap"],e.strings.skipContent=[/(jump|skip) (.*) (content|main|post)/i],e.strings.suspiciousLinks=["click here","click","more","here","read more","download","add","delete","clone","order","view","read","clic aqu&iacute;","clic","haga clic","m&aacute;s","aqu&iacute;","image"],e.strings.symbols=["|","*",/\*/g,"<br>*","&bull;","&#8226","","","","","",".","","","","","",""],e.KINGStrongList=function(e,i,n){i.get("$scope").find("strong").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set({status:t(this).parent().is("li")?"passed":"failed"})}))},e.KINGUseCurrencyAsSymbol=function(e,i,n){i.get("$scope").find("p").each((function(s,a){var o=["dollar","euro","pound","franc","krona","rupee","ruble","dinar"],r=new RegExp("\\d{1,}\\s*("+o.join("|")+")\\w*\\b|("+o.join("|")+")\\w*\\b\\s*\\d{1,}","ig"),c=e.getTextContents(t(a)),l=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(l),l.set({status:r.test(c)?"failed":"passed"})}))},e.KINGUseLongDateFormat=function(e,i,n){i.get("$scope").find("a, article, aside, b, blockquote, caption, cite, dd, del, div, em, figcaption, footer, h1, h2, h3, h4, h5, h6, header, i, label, legend, li, mark, nav, option, p, q, s, section, small, span, strong, sub, summary, sup, td, th, title, u").each((function(e,s){var a,o=/\d{1,2}([./-])\d{1,2}\1\d{2,4}/g,r=s.childNodes,c=!1,l=[],u=0;for(a=r.length;a>u;u++)r[u].nodeType===Node.TEXT_NODE&&l.push(r[u]);for(u=0;u<l.length&&!c;u++){var d=l[u].nodeValue;o.test(d)&&(c=!0)}var h=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(h),h.set({status:c?"failed":"passed"})}))},e.KINGUsePercentageWithSymbol=function(e,i,n){i.get("$scope").find("p").each((function(s,a){var o=["percent","pct\\."],r=new RegExp("\\d{1,}\\s*("+o.join("|")+")|("+o.join("|")+")\\s*\\d{1,}","ig"),c=e.getTextContents(t(a)),l=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(l),l.set({status:r.test(c)?"failed":"passed"})}))},e.aAdjacentWithSameResourceShouldBeCombined=function(e,i,n){function s(e,s){var a=t(s),o=s.getAttribute("href"),r=a.find("+ a");if(r.length){var c=r[0].getAttribute("href"),l="passed",u=n({element:s,expected:a.closest(".quail-test").data("expected")});o===c&&(l="failed"),i.add(u),u.set({status:l})}}function a(e,s){var a=n({element:s});i.add(a),a.set({status:"inapplicable",expected:t(s).closest(".quail-test").data("expected")})}i.get("$scope").each((function(e,i){var n=t(i),o=n.find("a + a").length>0;n.find("a").each(o?s:a)}))},e.aImgAltNotRepetitive=function(e,i,n){i.get("$scope").find("a img[alt]").each((function(){var s=i.add(n({element:this})),a=t(this).closest(".quail-test").data("expected");s.set(e.cleanString(t(this).attr("alt"))===e.cleanString(t(this).parent("a").text())?{expected:a,status:"failed"}:{expected:a,status:"passed"})}))},e.aInPHasADistinctStyle=function(e,i,n){function s(e,i){var n=!1,s=["font-weight","font-style"],a=e.css("text-decoration");return"none"!==a&&a!==i.css("text-decoration")&&(n=!0),"rgba(0, 0, 0, 0)"!==e.css("background-color")&&s.push("background"),t.each(s,(function(t,s){n||e.css(s)===i.css(s)||(n=!0)})),n||function(t){return t.outerWidth()-t.innerWidth()>0||t.outerHeight()-t.innerHeight()>0}(e)}var a=/^([\s|-]|>|<|\\|\/|&(gt|lt);)*$/i;i.get("$scope").each((function(){t(this).find("p a[href]:visible").each((function(){var e=t(this),o=e.closest("p"),r=e.parent(),c=n({element:this,expected:e.closest(".quail-test").data("expected")});i.add(c);var l=e.text().trim(),u=o.clone().find("a[href]").remove().end().text();""===l||u.match(a)?c.set("status","inapplicable"):e.css("color")===o.css("color")||s(e,o)||function(t){var e="block"===t.css("display"),i=t.css("position");return e||"relative"!==i&&"static"!==i}(e)||e.find("img").length>0||r.text().trim()===l&&s(r,o)?c.set("status","passed"):c.set("status","failed")}))}))},e.aLinkTextDoesNotBeginWithRedundantWord=function(e,i,n){i.get("$scope").find("a").each((function(){var s,a=t(this),o="";t(this).find("img[alt]").length&&(o+=t(this).find("img[alt]:first").attr("alt")),o=(o+=t(this).text()).toLowerCase(),t.each(e.strings.redundant.link,(function(t,e){o.search(e)>-1&&(s=i.add(n({element:this,expected:a.closest(".quail-test").data("expected"),status:"failed"})))})),s||i.add(n({element:this,expected:a.closest(".quail-test").data("expected"),status:"passed"}))}))},e.aLinkWithNonText=function(e,i,n){i.get("$scope").find("a").each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});if(i.add(s),t(this).is("a:has(img, object, embed)[href]"))if(e.isUnreadable(t(this).text())){var a=0;t(this).find("img, object, embed").each((function(){(t(this).is("img")&&e.isUnreadable(t(this).attr("alt"))||!t(this).is("img")&&e.isUnreadable(t(this).attr("title")))&&a++})),s.set(t(this).find("img, object, embed").length===a?{status:"failed"}:{status:"passed"})}else s.set({status:"passed"});else s.set({status:"inapplicable"})}))},e.aLinksAreSeparatedByPrintableCharacters=function(e,i,n){i.get("$scope").find("a").each((function(){var s=i.add(n({element:this})),a=t(this).closest(".quail-test").data("expected");t(this).next("a").length&&s.set(e.isUnreadable(t(this).get(0).nextSibling.wholeText)?{expected:a,status:"failed"}:{expected:a,status:"passed"})}))},e.aLinksDontOpenNewWindow=function(e,i,n){i.get("$scope").find("a").not("[target=_new], [target=_blank]").each((function(){i.add(n({element:this,expected:t(this).closest(".quail-test").data("expected"),status:"passed"}))})),i.get("$scope").find("a[target=_new], a[target=_blank]").each((function(){var s=t(this),a=!1,o=0,r=s.text()+" "+s.attr("title"),c="";do{c=e.strings.newWindow[o],r.search(c)>-1&&(a=!0),++o}while(!a&&o<e.strings.newWindow.length);i.add(n(a?{element:this,expected:s.closest(".quail-test").data("expected"),status:"passed"}:{element:this,expected:s.closest(".quail-test").data("expected"),status:"failed"}))}))},e.aLinksNotSeparatedBySymbols=function(e,i,n){i.get("$scope").find("a").each((function(){var s=t(this);if(s.next("a").length){var a=s.get(0).nextSibling.wholeText;"string"==typeof a?-1!==e.strings.symbols.indexOf(a.toLowerCase().trim())&&i.add(n({element:this,expected:s.closest(".quail-test").data("expected"),status:"failed"})):i.add(n({element:this,expected:s.closest(".quail-test").data("expected"),status:"passed"}))}else i.add(n({status:"inapplicable"}))}))},e.aMustContainText=function(e,i,n){i.get("$scope").find("a").each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});return i.add(s),t(this).attr("href")&&"none"!==t(this).css("display")?void s.set(e.containsReadableText(t(this),!0)?{status:"passed"}:{status:"failed"}):void s.set({status:"inapplicable"})}))},e.aSuspiciousLinkText=function(e,i,n){i.get("$scope").find("a").each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});if(i.add(s),t(this).attr("href")){var a=t(this).text();t(this).find("img[alt]").each((function(){a+=t(this).attr("alt")})),s.set(e.strings.suspiciousLinks.indexOf(e.cleanString(a))>-1?{status:"failed"}:{status:"passed"})}else s.set({status:"inapplicable"})}))},e.animatedGifMayBePresent=function(e,i,n){i.get("$scope").find("img").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e);var s=t(this).attr("src"),a=t(this).attr("src").split(".").pop().toLowerCase();return"gif"!==a?void e.set({status:"inapplicable"}):void function(t,e,i){if("gif"===e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.addEventListener("load",(function(){var t=new Uint8Array(n.response),e=0;if(71===t[0]&&73===t[1]&&70===t[2]&&56===t[3]){for(var s=0;s<t.length-9;s++)if(0!==t[s]||33!==t[s+1]||249!==t[s+2]||4!==t[s+3]||0!==t[s+8]||44!==t[s+9]&&33!==t[s+9]||e++,e>1)return void i(!0);i(!1)}else i(!1)})),n.send()}else i(!1)}(s,a,(function(t){return t?void e.set({status:"cantTell"}):void e.set({status:"inapplicable"})}))}))},e.appletContainsTextEquivalent=function(e,i,n){i.get("$scope").find('applet[alt=""], applet:not(applet[alt])').each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(s),s.set(e.isUnreadable(t(this).text())?{status:"failed"}:{status:"passed"})}))},e.ariaOrphanedContent=function(e,i,n){i.get("$scope").each((function(){var e=t(this),s=!!e.attr("role"),a=!!e.find("[role]").length;if(s||a){var o=e.find("*:not(*[role] *, *[role], script, meta, link)");o.length?o.each((function(){i.add(n({element:this,expected:t(this).closest(".quail-test").data("expected"),status:"failed"}))})):i.add(n({expected:e.data("expected"),status:"passed"}))}else i.add(n({expected:e.data("expected"),status:"inapplicable"}))}))},e.audioMayBePresent=function(e,i,n){var s=["mp3","m4p","ogg","oga","opus","wav","wma","wv"];i.get("$scope").each((function(){var e=t(this),a=!1;e.find("object, audio").each((function(){a=!0,i.add(n({element:this,expected:t(this).closest(".quail-test").data("expected"),status:"cantTell"}))})),e.find("a[href]").each((function(){var e=t(this),o=e.attr("href").split(".").pop();-1!==t.inArray(o,s)&&(a=!0,i.add(n({element:this,expected:e.closest(".quail-test").data("expected"),status:"cantTell"})))})),a||i.add(n({element:this,status:"inapplicable",expected:t(this).closest(".quail-test").data("expected")}))}))},e.blockquoteUseForQuotations=function(e,i,n){i.get("$scope").find("p").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});return i.add(e),t(this).parents("blockquote").length>0?void e.set({status:"inapplicable"}):void e.set(t(this).text().substr(0,1).search(/'|"|||/)>-1&&t(this).text().substr(-1,1).search(/'|"|||/)>-1?{status:"failed"}:{status:"passed"})}))},e.closingTagsAreUsed=function(e,i,n){e.components.htmlSource.getHtml((function(s,a){e.components.htmlSource.traverse(a,(function(s){if("tag"===s.type&&t.isArray(s.selector)){var a;a=/#/.test(s.selector.slice(-1)[0])?s.selector.slice(-1)[0]:s.selector.join(" > ");var o=t(a,i.get("$scope")).get(0);o||(o=s.raw||a),i.add(n(void 0!==s.closingTag||s.closingTag||-1!==e.selfClosingTags.indexOf(s.name.toLowerCase())?{element:o,expected:"object"==typeof o&&1===o.nodeType&&t(o).closest(".quail-test").data("expected")||null,status:"passed"}:{element:o,expected:"object"==typeof o&&1===o.nodeType&&t(o).closest(".quail-test").data("expected")||null,status:"failed"}))}}))}))},e.colorBackgroundGradientContrast=function(e,i,n,s){function a(t,e,i,n,s){var a,l,u,d=o.getBackgroundGradient(n);if(d){for(var h=0;h<d.length;h++)"rgb"===d[h].substr(0,3)&&(d[h]=o.colorToHex(d[h]));for((l=new Rainbow).setSpectrumByArray(d),u=d.length*i.gradientSampleMultiplier,a=!1,h=0;!a&&u>h;h++)o.testElmBackground(i.algorithm,n,"#"+l.colourAt(h))||(r(t,e,s,"failed",c,"The background gradient makes the text unreadable"),a=!0);a||r(t,e,s,"passed",c,"The background gradient does not affect readability")}}var o=e.components.color.colors,r=e.components.color.buildCase,c="colorBackgroundGradientContrast";i.get("$scope").each((function(){for(var o=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),c=[],l=o.iterateNext();l;)e.components.color.textShouldBeTested(l)&&c.push(l.parentNode),l=o.iterateNext();0===c.length&&r(i,n,null,"inapplicable","","There is no text to evaluate"),c.forEach((function(e){a(i,n,s,t(e),e)}))}))},e.colorBackgroundImageContrast=function(e,i,n,s){function a(t,e,i,n,s){var a=o.getBackgroundImage(n);if(a){var l=document.createElement("img");l.crossOrigin="Anonymous",l.onload=function(){var a=o.getAverageRGB(l);o.testElmBackground(i.algorithm,n,a)?r(t,e,s,"passed",c,"The element's background image does not affect readability"):r(t,e,s,"failed",c,"The element's background image makes the text unreadable")},l.onerror=l.onabort=function(){r(t,e,s,"cantTell",c,"The element's background image could not be loaded ("+a+")")},l.src=a}}var o=e.components.color.colors,r=e.components.color.buildCase,c="colorBackgroundImageContrast";i.get("$scope").each((function(){for(var o=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),c=[],l=o.iterateNext();l;)e.components.color.textShouldBeTested(l)&&c.push(l.parentNode),l=o.iterateNext();0===c.length&&r(i,n,null,"inapplicable","","There is no text to evaluate"),c.forEach((function(e){a(i,n,s,t(e),e)}))}))},e.colorElementBehindBackgroundGradientContrast=function(e,i,n,s){function a(t,e,i,n,s){var a,l;if(n.is("option")||(a=o.getBehindElementBackgroundGradient(n)),a){for(var u=0;u<a.length;u++)"rgb"===a[u].substr(0,3)&&(a[u]=o.colorToHex(a[u]));var d=new Rainbow;d.setSpectrumByArray(a);var h=a.length*i.gradientSampleMultiplier;for(l=!1,u=0;!l&&h>u;u++)l=!o.testElmBackground(i.algorithm,n,"#"+d.colourAt(u));l?r(t,e,s,"failed",c,"The background gradient of the element behind this element makes the text unreadable"):r(t,e,s,"passed",c,"The background gradient of the element behind this element does not affect readability")}}var o=e.components.color.colors,r=e.components.color.buildCase,c="colorElementBehindBackgroundGradientContrast";i.get("$scope").each((function(){for(var o=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),c=[],l=o.iterateNext();l;)e.components.color.textShouldBeTested(l)&&c.push(l.parentNode),l=o.iterateNext();0===c.length&&r(i,n,null,"inapplicable","","There is no text to evaluate"),c.forEach((function(e){a(i,n,s,t(e),e)}))}))},e.colorElementBehindBackgroundImageContrast=function(e,i,n,s){function a(t,e,i,n,s){var a;if(n.is("option")||(a=o.getBehindElementBackgroundImage(n)),a){var l=document.createElement("img");l.crossOrigin="Anonymous",l.onload=function(){var a=o.getAverageRGB(l);o.testElmBackground(i.algorithm,n,a)?r(t,e,s,"passed",c,"The background image of the element behind this element does not affect readability"):r(t,e,s,"failed",c,"The background image of the element behind this element makes the text unreadable")},l.onerror=l.onabort=function(){r(t,e,s,"cantTell",c,"The background image of the element behind this element could not be loaded ("+a+")")},l.src=a}}var o=e.components.color.colors,r=e.components.color.buildCase,c="colorElementBehindBackgroundImageContrast";i.get("$scope").each((function(){for(var o=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),c=[],l=o.iterateNext();l;)e.components.color.textShouldBeTested(l)&&c.push(l.parentNode),l=o.iterateNext();0===c.length&&r(i,n,null,"inapplicable","","There is no text to evaluate"),c.forEach((function(e){a(i,n,s,t(e),e)}))}))},e.colorElementBehindContrast=function(e,i,n,s){function a(t,e,i,n,s){var a;n.is("option")||(a=o.getBehindElementBackgroundColor(n)),a&&(o.testElmBackground(i.algorithm,n,a)?r(t,e,s,"passed",c,"The element behind this element does not affect readability"):r(t,e,s,"failed",c,"The element behind this element makes the text unreadable"))}var o=e.components.color.colors,r=e.components.color.buildCase,c="colorElementBehindContrast";i.get("$scope").each((function(){for(var o=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),c=[],l=o.iterateNext();l;)e.components.color.textShouldBeTested(l)&&c.push(l.parentNode),l=o.iterateNext();0===c.length&&r(i,n,null,"inapplicable","","There is no text to evaluate"),c.forEach((function(e){a(i,n,s,t(e),e)}))}))},e.colorFontContrast=function(e,i,n,s){function a(t,e,i,n,s){o.testElmContrast(i.algorithm,n)?r(t,e,s,"passed",c,"The font contrast of the text is sufficient for readability"):r(t,e,s,"failed",c,"The font contrast of the text impairs readability")}var o=e.components.color.colors,r=e.components.color.buildCase,c="colorFontContrast";i.get("$scope").each((function(){for(var o=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),c=[],l=o.iterateNext();l;)e.components.color.textShouldBeTested(l)&&c.push(l.parentNode),l=o.iterateNext();0===c.length&&r(i,n,null,"inapplicable","","There is no text to evaluate"),c.forEach((function(e){a(i,n,s,t(e),e)}))}))},e.contentPositioningShouldNotChangeMeaning=function(e,i,n){var s=["top","left","right","bottom"],a={},o=!1;i.get("$scope").find("*:has(*:quailCss(position=absolute))").each((function(){a={top:{},left:{},right:{},bottom:{}},o=!1;var e=t(this);e.find("h1, h2, h3, h4, h5, h6, p, blockquote, ol, li, ul, dd, dt").filter(":quailCss(position=absolute)").each((function(){for(var e=0;e<s.length;e++)void 0!==t(this).css(s[e])&&"auto"!==t(this).css(s[e])&&(void 0===a[s[e]][t(this).css(s[e])]&&(a[s[e]][t(this).css(s[e])]=0),a[s[e]][t(this).css(s[e])]++)})),t.each(s,(function(){t.each(a[this],(function(){this>2&&!o&&(o=!0,i.add(n({element:e.get(0),expected:e.closest(".quail-test").data("expected"),status:"failed"})))}))}))}))},e.definitionListsAreUsed=function(e,i,n){i.get("$scope").find("dl").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set({status:"inapplicable"})})),i.get("$scope").find("p, li").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e);var s=t(this);t(this).find("span, strong, em, b, i").each((function(){if(t(this).text().length<50&&0===s.text().search(t(this).text())){if(t(this).is("span")&&t(this).css("font-weight")===s.css("font-weight")&&t(this).css("font-style")===s.css("font-style"))return void e.set({status:"passed"});e.set({status:"failed"})}}))}))},e.doNotUseGraphicalSymbolToConveyInformation=function(e,i,n){i.get("$scope").find(e.textSelector+":not(abbr, acronym)").each((function(){var s=t(this).text();0===s.replace(/[\W\s]+/g,"").length?-1==="".indexOf(s)&&i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"})):i.add(n(1===s.length&&"?xo[]()+-!*xX".indexOf(s)>=0?{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}:{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"passed"}))})),i.get("$scope").find(e.textSelector).filter("abbr, acronym").each((function(){i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"inapplicable"}))}))},e.doctypeProvided=function(e,i,n){var s=i.get("$scope").get(0);i.add(n(0!==t(s.doctype).length||document.doctype?{element:s,expected:"pass",status:"passed"}:{element:s,expected:"fail",status:"failed"}))},e.documentAbbrIsUsed=function(t,e,i){t.components.acronym(t,e,i,"abbr")},e.documentAcronymsHaveElement=function(t,e,i){t.components.acronym(t,e,i,"acronym")},e.documentIDsMustBeUnique=function(e,i,n){i.get("$scope").each((function(){0===t(this).children().length&&i.add(n({element:this,status:"inapplicable",expected:t(this).closest(".quail-test").data("expected")}))})),i.get("$scope").find(":not([id])").each((function(){i.add(n({element:this,status:"inapplicable",expected:t(this).closest(".quail-test").data("expected")}))})),i.get("$scope").each((function(){var s={};t(this).find("[id]").each((function(){var a=n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this)});i.add(a),void 0===s[t(this).attr("id")]&&0===Object.keys(s).length?(a.set({status:"inapplicable"}),s[t(this).attr("id")]=t(this).attr("id")):void 0===s[t(this).attr("id")]?(a.set({status:"passed"}),s[t(this).attr("id")]=t(this).attr("id")):a.set({status:"failed"})}))}))},e.documentIsWrittenClearly=function(e,i,n){i.get("$scope").find(e.textSelector).each((function(){var s=e.components.textStatistics.cleanText(t(this).text()),a=n({element:this,expected:t(this).closest(".quail-test").data("expected")});return i.add(a),e.isUnreadable(s)?void a.set({status:"inapplicable"}):void a.set(Math.round(206.835-1.015*e.components.textStatistics.averageWordsPerSentence(s)-84.6*e.components.textStatistics.averageSyllablesPerWord(s))<60?{status:"failed"}:{status:"passed"})}))},e.documentLangIsISO639Standard=function(e,i,n){var s=i.get("$scope").is("html")?i.get("$scope"):i.get("$scope").find("html").first(),a=n({element:s[0],expected:s.closest(".quail-test").length?s.closest(".quail-test").data("expected"):s.data("expected")}),o=s.attr("lang"),r=!1;i.add(a),s.is("html")&&void 0!==o?(t.each(e.strings.languageCodes,(function(t,e){r||0!==o.indexOf(e)||(r=!0)})),a.set(r?null===o.match(/^[a-z]{2}(-[A-Z]{2})?$/)?{status:"failed"}:{status:"passed"}:{status:"failed"})):a.set({status:"inapplicable"})},e.documentStrictDocType=function(t,e,i){e.add(i(void 0!==document.doctype&&document.doctype&&-1!==document.doctype.systemId.search("strict")?{element:document,expected:e.get("$scope").data("expected"),status:"passed"}:{element:document,expected:e.get("$scope").data("expected"),status:"failed"}))},e.documentTitleIsShort=function(t,e,i){var n=e.get("$scope").find("head title:first"),s=i({element:n,expected:n.closest(".quail-test").data("expected")});return e.add(s),n.length?void s.set({status:n.text().length>150?"failed":"passed"}):void s.set({element:e.get("$scope"),status:"inapplicable"})},e.documentValidatesToDocType=function(){document.doctype},e.documentVisualListsAreMarkedUp=function(e,i,n){var s=RegExp("(^|<br[^>]*>)[\\s]*("+["","","","","","","","","","","","-\\D","\\\\","\\*(?!\\*)","\\.\\s","x\\s","&bull;","&#8226;","&gt;","[0-9]+\\.","\\(?[0-9]+\\)","[\\u25A0-\\u25FF]","[IVX]{1,5}\\.\\s"].join("|")+")","gi");i.get("$scope").find(e.textSelector).each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e);var a=t(this).html().match(s);e.set({status:a&&a.length>2?"failed":"passed"})}))},e.elementAttributesAreValid=function(e,i,n){e.components.htmlSource.getHtml((function(s,a){a&&e.components.htmlSource.traverse(a,(function(e){if(void 0!==e.raw&&t.isArray(e.selector)){var s,a=!1;s=/#/.test(e.selector.slice(-1)[0])?e.selector.slice(-1)[0]:e.selector.join(" > ");var o=t(s,i.get("$scope")).get(0);o||(o=e.raw||s);var r=e.raw.match(/\'|\"/g);r&&r.length%2!=0&&(i.add(n({element:o,expected:"object"==typeof o&&1===o.nodeType&&t(o).closest(".quail-test").data("expected")||null,status:"failed"})),a=!0),e.raw.search(/([a-z]*)=(\'|\")([a-z\.]*)(\'|\")[a-z]/i)>-1&&(i.add(n({element:o,expected:"object"==typeof o&&1===o.nodeType&&t(o).closest(".quail-test").data("expected")||null,status:"failed"})),a=!0);var c=e.raw.split("=");c.shift(),t.each(c,(function(){-1===this.search(/\'|\"/)&&this.search(/\s/i)>-1&&(i.add(n({element:o,expected:"object"==typeof o&&1===o.nodeType&&t(o).closest(".quail-test").data("expected")||null,status:"failed"})),a=!0)})),a||i.add(n({element:o,expected:"object"==typeof o&&1===o.nodeType&&t(o).closest(".quail-test").data("expected")||null,status:"passed"}))}}))}))},e.elementsDoNotHaveDuplicateAttributes=function(e,i,n){e.components.htmlSource.getHtml((function(s,a){a&&e.components.htmlSource.traverse(a,(function(e){if("tag"===e.type&&t.isArray(e.selector)){var s;s=/#/.test(e.selector.slice(-1)[0])?e.selector.slice(-1)[0]:e.selector.join(" > ");var a=t(s,i.get("$scope")).get(0);if(a||(a=e.raw||s),void 0!==e.attributes){var o=[];t.each(e.attributes,(function(t,e){e.length>1&&o.push(e)})),i.add(n(o.length?{element:a,expected:"object"==typeof a&&1===a.nodeType&&t(a).closest(".quail-test").data("expected")||null,info:o,status:"failed"}:{element:a,expected:"object"==typeof a&&1===a.nodeType&&t(a).closest(".quail-test").data("expected")||null,info:o,status:"passed"}))}}}))}))},e.embedHasAssociatedNoEmbed=function(e,i,n){i.get("$scope").find("embed").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set({status:t(this).find("noembed").length||t(this).next().is("noembed")?"passed":"failed"})}))},e.emoticonsExcessiveUse=function(e,i,n){i.get("$scope").find(e.textSelector).each((function(){var s=0,a=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(a),t.each(t(this).text().split(" "),(function(t,i){i.search(e.emoticonRegex)>-1&&s++})),a.set(0===s?{status:"inapplicable"}:{status:s>4?"failed":"passed"})}))},e.emoticonsMissingAbbr=function(e,i,n){i.get("$scope").find(e.textSelector+":not(abbr, acronym)").each((function(){var s=t(this).clone(),a=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(a),s.find("abbr, acronym").each((function(){t(this).remove()}));var o="passed";t.each(s.text().split(" "),(function(t,i){i.search(e.emoticonRegex)>-1&&(o="failed")})),a.set({status:o})}))},e.focusIndicatorVisible=function(e,i,n){i.get("$scope").find(e.focusElements).each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(s);var a={borderWidth:t(this).css("border-width"),borderColor:t(this).css("border-color"),backgroundColor:t(this).css("background-color"),boxShadow:t(this).css("box-shadow")};if(t(this).focus(),a.backgroundColor.trim()!==t(this).css("background-color").trim())return t(this).blur(),void s.set({status:"passed"});var o=e.components.convertToPx(t(this).css("border-width"));if(o>2&&o!==e.components.convertToPx(a.borderWidth))return t(this).blur(),void s.set({status:"passed"});var r=!(!t(this).css("box-shadow")||"none"===t(this).css("box-shadow"))&&t(this).css("box-shadow").match(/(-?\d+px)|(rgb\(.+\))/g);return r&&t(this).css("box-shadow")!==a.boxShadow&&e.components.convertToPx(r[3])>3?(t(this).blur(),void s.set({status:"passed"})):(t(this).blur(),void s.set({status:"failed"}))}))},e.formWithRequiredLabel=function(e,i,n){var s,a=e.strings.redundant,o=!1;a.required[a.required.indexOf("*")]=/\*/g,i.get("$scope").each((function(){t(this).find("label").each((function(){var r=t(this).text().toLowerCase(),c=t(this),l=i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this)}));for(var u in a.required)r.search(u)>=0&&!i.get("$scope").find("#"+c.attr("for")).attr("aria-required")&&l.set({status:"failed"});o=c.css("color")+c.css("font-weight")+c.css("background-color"),s&&o!==s&&l.set({status:"failed"}),s=o,void 0===l.get("status")&&l.set({status:"passed"})}))}))},e.headerTextIsTooLong=function(e,i,n){i.get("$scope").find("h1, h2, h3, h4, h5, h6").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected"),status:t(this).text().replace(/^\s+|\s+$/gm,"").length>128?"failed":"passed"});i.add(e)}))},e.headersAttrRefersToATableCell=function(e,i,n){i.get("$scope").find("table").each((function(){var e=this,s=n({element:e,expected:t(this).closest(".quail-test").data("expected")});i.add(s);var a=t(e).find("th[headers], td[headers]");return 0===a.length?void s.set({status:"inapplicable"}):void a.each((function(){var i=t(this).attr("headers").split(/\s+/);t.each(i,(function(i,n){return""===n||t(e).find("th#"+n+",td#"+n).length>0?void s.set({status:"passed"}):void s.set({status:"failed"})}))}))}))},e.headersUseToMarkSections=function(e,i,n){i.get("$scope").find("p").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e);var s=t(this);s.find("strong:first, em:first, i:first, b:first").each((function(){e.set({status:s.text().trim()===t(this).text().trim()?"failed":"passed"})}))})),i.get("$scope").find("ul, ol").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e);var s=t(this);if(s.prevAll(":header").length||s.find("li").length!==s.find("li:has(a)").length)e.set({status:"passed"});else{var a=!0;s.find("li:has(a)").each((function(){t(this).text().trim()!==t(this).find("a:first").text().trim()&&(a=!1)})),a&&e.set({status:"failed"})}}))},e.headersUsedToIndicateMainContent=function(e,i,n){i.get("$scope").each((function(){var s=t(this),a=e.components.content.findContent(s);i.add(n(void 0===a||0!==a.find(":header").length&&a.find(e.textSelector).first().is(":header")?{element:a.get(0),expected:a.closest(".quail-test").data("expected"),status:"passed"}:{element:a.get(0),expected:a.closest(".quail-test").data("expected"),status:"failed"}))}))},e.idRefHasCorrespondingId=function(e,i,n){i.get("$scope").find("label[for], *[aria-activedescendant]").each((function(){var e=t(this),s=n({element:this,expected:e.closest(".quail-test").data("expected")});i.add(s);var a=e.attr("for")||e.attr("aria-activedescendant");s.set(0===i.get("$scope").find("#"+a).length?{status:"failed"}:{status:"passed"})}))},e.idrefsHasCorrespondingId=function(e,i,n){i.get("$scope").each((function(){var e=t(this).find("td[headers], th[headers], [aria-controls], [aria-describedby], [aria-flowto], [aria-labelledby], [aria-owns]");return 0===e.length?void i.add(n({element:this,expected:t(this).closest(".quail-test").data("expected"),status:"inapplicable"})):void e.each((function(){var e=i.add(n({element:this,expected:t(this).closest(".quail-test").data("expected")})),s=function(e){var i=[];return t.each(["headers","aria-controls","aria-describedby","aria-flowto","aria-labelledby","aria-owns"],(function(t,n){var s=e.attr(n);return void 0!==s&&!1!==s?void(i=s):void 0})),i.split(/\s+/)}(t(this)),a="passed";t.each(s,(function(e,i){return""!==i&&0===t("#"+i).length?void(a="failed"):void 0})),e.set({status:a})}))}))},e.imgAltIsDifferent=function(e,i,n){i.get("$scope").find("img:not([src])").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected"),status:"inapplicable"});i.add(e)})),i.get("$scope").find("img[alt][src]").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set(t(this).attr("src")===t(this).attr("alt")||t(this).attr("src").split("/").pop()===t(this).attr("alt")?{status:"failed"}:{status:"passed"})}))},e.imgAltIsTooLong=function(e,i,n){i.get("$scope").find("img[alt]").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set({status:t(this).attr("alt").length>100?"failed":"passed"})}))},e.imgAltNotEmptyInAnchor=function(e,i,n){i.get("$scope").find("a[href]:has(img)").each((function(){var s=t(this),a=s.text(),o=n({element:this,expected:s.closest(".quail-test").data("expected")});i.add(o),s.find("img[alt]").each((function(){a+=" "+t(this).attr("alt")})),o.set(e.isUnreadable(a)?{status:"failed"}:{status:"passed"})}))},e.imgAltTextNotRedundant=function(e,i,n){var s={};i.get("$scope").find("img[alt]").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),void 0===s[t(this).attr("alt")]?s[t(this).attr("alt")]=t(this).attr("src"):e.set(s[t(this).attr("alt")]!==t(this).attr("src")?{status:"failed"}:{status:"passed"})}))},e.imgGifNoFlicker=function(e,i,n){i.get("$scope").find('img[src$=".gif"]').each((function(){var e=t(this),s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(s),t.ajax({url:e.attr("src"),dataType:"text",success:function(t){s.set(-1!==t.search("NETSCAPE2.0")?{status:"failed"}:{status:"inapplicable"})}})}))},e.imgHasLongDesc=function(e,i,n){i.get("$scope").find("img[longdesc]").each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(s),s.set(t(this).attr("longdesc")!==t(this).attr("alt")&&e.validURL(t(this).attr("longdesc"))?{status:"passed"}:{status:"failed"})}))},e.imgImportantNoSpacerAlt=function(e,i,n){i.get("$scope").find("img[alt]").each((function(){var s=t(this).width()?t(this).width():parseInt(t(this).attr("width"),10),a=t(this).height()?t(this).height():parseInt(t(this).attr("height"),10),o=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(o),o.set(e.isUnreadable(t(this).attr("alt").trim())&&t(this).attr("alt").length>0&&s>50&&a>50?{status:"failed"}:{status:"passed"})}))},e.imgMapAreasHaveDuplicateLink=function(e,i,n){var s={};i.get("$scope").find("a").each((function(){s[t(this).attr("href")]=t(this).attr("href")})),i.get("$scope").find("img[usemap]").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e);var a=t(this),o=i.get("$scope").find(a.attr("usemap"));o.length||(o=i.get("$scope").find('map[name="'+a.attr("usemap").replace("#","")+'"]')),o.length?o.find("area").each((function(){e.set(void 0===s[t(this).attr("href")]?{status:"failed"}:{status:"passed"})})):e.set({status:"inapplicable"})}))},e.imgNonDecorativeHasAlt=function(e,i,n){i.get("$scope").find("img[alt]").each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(s),s.set(e.isUnreadable(t(this).attr("alt"))&&(t(this).width()>100||t(this).height()>100)?{status:"failed"}:{status:"passed"})}))},e.imgWithMathShouldHaveMathEquivalent=function(e,i,n){i.get("$scope").find("img:not(img:has(math), img:has(tagName))").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),t(this).parent().find("math").length||e.set({status:"failed"})}))},e.inputCheckboxRequiresFieldset=function(e,i,n){i.get("$scope").find(":checkbox").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set(t(this).parents("fieldset").length?{status:"passed"}:{status:"failed"})}))},e.inputImageAltIsNotFileName=function(e,i,n){i.get("$scope").find("input[type=image][alt]").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set(t(this).attr("src")===t(this).attr("alt")?{status:"failed"}:{status:"passed"})}))},e.inputImageAltIsShort=function(e,i,n){i.get("$scope").find("input[type=image]").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set(t(this).attr("alt").length>100?{status:"failed"}:{status:"passed"})}))},e.inputImageAltNotRedundant=function(e,i,n){i.get("$scope").find("input[type=image][alt]").each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(s),s.set(e.strings.redundant.inputImage.indexOf(e.cleanString(t(this).attr("alt")))>-1?{status:"failed"}:{status:"passed"})}))},e.inputWithoutLabelHasTitle=function(e,i,n){i.get("$scope").each((function(){var s=t(this).find("input, select, textarea");if(0!==s.length)s.each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});return i.add(s),"none"===t(this).css("display")?void s.set({status:"inapplicable"}):void s.set(i.get("$scope").find("label[for="+t(this).attr("id")+"]").length||t(this).attr("title")&&!e.isUnreadable(t(this).attr("title"))?{status:"passed"}:{status:"failed"})}));else{var a=n({element:this,expected:t(this).closest(".quail-test").data("expected"),status:"inapplicable"});i.add(a)}}))},e.labelMustBeUnique=function(e,i,n){var s={};i.get("$scope").find("label[for]").each((function(){void 0===s[t(this).attr("for")]&&(s[t(this).attr("for")]=0),s[t(this).attr("for")]++})),i.get("$scope").find("label[for]").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected"),status:1===s[t(this).attr("for")]?"passed":"failed"});i.add(e)}))},e.labelsAreAssignedToAnInput=function(e,i,n){i.get("$scope").find("label").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set(t(this).attr("for")&&i.get("$scope").find("#"+t(this).attr("for")).length&&i.get("$scope").find("#"+t(this).attr("for")).is(":input")?{status:"passed"}:{status:"failed"})}))},e.languageChangesAreIdentified=function(e,i,n){var s,a,o,r,c,l=i.get("$scope"),u=e.components.language.getDocumentLanguage(l,!0),d=function(i,n,s,a){var o,r=i.find("[lang="+n+"]");return 0===r.length||(s=s.length,r.each((function(){(o=e.getTextContents(t(this)).match(a))&&(s-=o.length)})),s>0)};l.find(e.textSelector).each((function(){r=this,o=t(this),u=function(t){return t.attr("lang")?t.attr("lang").trim().toLowerCase().split("-")[0]:t.parents("[lang]").length?t.parents("[lang]:first").attr("lang").trim().toLowerCase().split("-")[0]:e.components.language.getDocumentLanguage(l,!0)}(o),s=e.getTextContents(o),c=!1,t.each(e.components.language.scriptSingletons,(function(t,l){t!==u&&(a=s.match(l))&&a.length&&d(o,t,a,l)&&(i.add(n({element:r,expected:function(t){return e.components.resolveExpectation(t)}(r),info:{language:t},status:"failed"})),c=!0)})),t.each(e.components.language.scripts,(function(t,l){-1===l.languages.indexOf(u)&&(a=s.match(l.regularExpression))&&a.length&&d(o,t,a,void 0)&&(i.add(n({element:r,expected:function(t){return e.components.resolveExpectation(t)}(r),info:{language:t},status:"failed"})),c=!0)})),"undefined"!=typeof guessLanguage&&!o.find("[lang]").length&&o.text().trim().length>400&&guessLanguage.info(o.text(),(function(t){t[0]!==u&&(i.add(n({element:r,expected:function(t){return e.components.resolveExpectation(t)}(r),info:{language:t[0]},status:"failed"})),c=!0)})),c||i.add(n({element:r,expected:function(t){return e.components.resolveExpectation(t)}(r),status:"passed"}))}))},e.languageDirAttributeIsUsed=function(e,i,n){function s(){var s=t(this),o=s.attr("dir");o||(o=s.closest("[dir]").attr("dir")||o),"string"==typeof o&&(o=o.toLowerCase()),void 0===a[o]&&(o="ltr");var r="ltr"===o?"rtl":"ltr",c=e.getTextContents(s).match(a[r]);if(c){var l=c.length;s.find("[dir="+r+"]").each((function(){var t=s[0].textContent.match(a[r]);t&&(l-=t.length)}));var u=i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this)}));u.set({status:l>0?"failed":"passed"})}}var a=e.components.language.textDirection;i.get("$scope").each((function(){t(this).find(e.textSelector).each(s)}))},e.languageDirectionPunctuation=function(e,i,n){var s=i.get("$scope"),a={},o=/[\u2000-\u206F]|[!"#$%&'\(\)\]\[\*+,\-.\/:;<=>?@^_`{|}~]/gi,r=s.attr("dir")?s.attr("dir").toLowerCase():"ltr",c="ltr"===r?"rtl":"ltr",l=e.components.language.textDirection;s.each((function(){t(this).find(e.textSelector).each((function(){var s=t(this);r=s.attr("dir")?s.attr("dir").toLowerCase():s.parent("[dir]").first().attr("dir")?s.parent("[dir]").first().attr("dir").toLowerCase():r,void 0===l[r]&&(r="ltr"),c="ltr"===r?"rtl":"ltr";var u=e.getTextContents(s),d=u.match(l[c]),h=i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this)}));if(d){for(var p=u.search(l[c]),f=u.lastIndexOf(d.pop());a=o.exec(u);)if(a.index===p-1||a.index===f+1)return void h.set({status:"failed"});h.set({status:"passed"})}else h.set({status:"inapplicable"})}))}))},e.languageUnicodeDirection=function(e,i,n){var s=i.get("$scope"),a=e.components.language.textDirection,o=e.components.language.textDirectionChanges;s.each((function(){t(this).find(e.textSelector).each((function(){var s=i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this)})),r=t(this).text().trim(),c=-1!==r.substr(0,1).search(a.ltr)?"rtl":"ltr";s.set(-1===r.search(a[c])?{status:"inapplicable"}:-1!==r.search(o[c])?{status:"passed"}:{status:"failed"})}))}))},e.linkHasAUniqueContext=function(e,i,n){function s(e){for(var i=t(e),n=i,s=a(i.text());!n.is("body, html")&&-1===l.indexOf(n.css("display"));)n=n.parent();var o=n.text().match(/[^\.!\?]+[\.!\?]+/g);null===o&&(o=[n.text()]);for(var r=0;r<o.length;r+=1)if(-1!==a(o[r]).indexOf(s))return o[r].trim()}function a(t){var e=t.match(/\w+/g);return null!==e&&(t=e.join(" ")),t.toLowerCase()}function o(t,e){return a(""+t)!==a(""+e)}function r(e,i){if(e.href===i.href)return!1;if(o(e.title,i.title))return!1;var n=t(e).closest("p, li, dd, dt, td, th"),r=t(i).closest("p, li, dd, dt, td, th");if(0!==n.length&&0!==r.length&&o(c(n),c(r)))return!1;if(n.is("td, th")&&!r.is("td, th"))return!1;if(n.is("td, th")&&r.is("td, th")){var l=!1,u=[];if(n.tableHeaders().each((function(){u.push(a(t(this).text()))})),r.tableHeaders().each((function(){var e=a(t(this).text()),i=u.indexOf(e);-1===i?l=!0:u.splice(i,1)})),l||u.length>0)return!1}return!o(s(e),s(i))}function c(t){var e=t.text();return t.find("img[alt]").each((function(){e+=" "+this.alt.trim()})),a(e)}var l=["block","flex","list-item","table","table-caption","table-cell"];i.get("$scope").each((function(){var e=t(this),s=e.find("a[href]:visible"),a={};if(0===s.length){var o=n({element:this,status:"inapplicable",expected:e.closest(".quail-test").data("expected")});i.add(o)}s.each((function(){var e=c(t(this));void 0===a[e]&&(a[e]=[]),a[e].push(this)})),t.each(a,(function(e,s){for(;s.length>1;){for(var a=s.pop(),o=!1,c=s.length-1;c>=0;c-=1){var l=s[c];r(a,l)&&(o=!0,s.splice(c,1),i.add(n({element:l,status:"failed",expected:t(l).closest(".quail-test").data("expected")})))}i.add(n({element:a,status:o?"failed":"passed",expected:t(a).closest(".quail-test").data("expected")}))}1===s.length&&i.add(n({element:s[0],status:"passed",expected:t(s[0]).closest(".quail-test").data("expected")}))}))}))},e.listNotUsedForFormatting=function(e,i,n){i.get("$scope").find("ol, ul").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set(t(this).find("li").length<2?{status:"failed"}:{status:"passed"})}))},e.listOfLinksUseList=function(e,i,n){var s=/(|||||.||>||||||\||\*|&bull;|&#8226;)/g;i.get("$scope").find("a").each((function(){var a=i.add(n({element:this})),o=t(this).closest(".quail-test").data("expected");if(t(this).next("a").length){var r=t(this).get(0).nextSibling.wholeText.replace(s,"");a.set(!t(this).parent("li").length&&e.isUnreadable(r)?{expected:o,status:"failed"}:{expected:o,status:"passed"})}}))},e.newWindowIsOpened=function(e,i,n){var s,a=window.open;window.open=function(t){i.each((function(e,i){i.get("element").href.indexOf(t)>-1&&i.set("status","failed")}))},i.get("$scope").find("a").each((function(){s=n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this)}),i.add(s),t(this).trigger("click")})),window.open=a},e.pNotUsedAsHeader=function(e,i,n){i.get("$scope").find("p").each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(s),t(this).text().search(".")>=1&&s.set({status:"inapplicable"});var a=!1;if(t(this).text().search(".")<1){var o=t(this),r=o.prev("p");t.each(e.suspectPHeaderTags,(function(e,i){o.find(i).length&&o.find(i).each((function(){t(this).text().trim()===o.text().trim()&&(s.set({status:"failed"}),a=!0)}))})),r.length&&t.each(e.suspectPCSSStyles,(function(t,e){return o.css(e)!==r.css(e)?(s.set({status:"failed"}),a=!0,!1):void 0})),"bold"===o.css("font-weight")&&(s.set({status:"failed"}),a=!0)}a||s.set({status:"passed"})}))},e.paragraphIsWrittenClearly=function(e,i,n){i.get("$scope").find("p").each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(s);var a=e.components.textStatistics.cleanText(t(this).text());s.set(Math.round(206.835-1.015*e.components.textStatistics.averageWordsPerSentence(a)-84.6*e.components.textStatistics.averageSyllablesPerWord(a))<60?{status:"failed"}:{status:"passed"})}))},e.preShouldNotBeUsedForTabularLayout=function(e,i,n){i.get("$scope").find("pre").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e);var s=t(this).text().split(/[\n\r]+/);e.set({status:s.length>1&&t(this).text().search(/\t/)>-1?"failed":"passed"})}))},e.scriptFocusIndicatorVisible=function(){e.html.find(e.focusElements).each((function(){var i,n,s,a;s=[];for(var o=0,r=document.styleSheets.length;r>o;++o)for(var c=(n=(i=document.styleSheets[o]).cssRules||i.rules).length-1;c>=0;--c)(a=n[c]).selectorText&&-1!==a.selectorText.indexOf(":focus")&&(s.push({css:a.cssText,index:c,sheet:o}),i.deleteRule(c));var l={borderWidth:t(this).css("border-width"),borderColor:t(this).css("border-color"),backgroundColor:t(this).css("background-color"),boxShadow:t(this).css("box-shadow"),outlineWidth:t(this).css("outline-width"),outlineColor:t(this).css("outline-color")};t(this).focus();var u=e.components.convertToPx(t(this).css("outline-width"));if(u>2&&u!==e.components.convertToPx(l.outlineWidth))t(this).blur();else if(l.backgroundColor===t(this).css("background-color")){var d=e.components.convertToPx(t(this).css("border-width"));if(d>2&&d!==e.components.convertToPx(l.borderWidth))t(this).blur();else{var h=!(!t(this).css("box-shadow")||"none"===t(this).css("box-shadow"))&&t(this).css("box-shadow").match(/(-?\d+px)|(rgb\(.+\))/g);if(h&&t(this).css("box-shadow")!==l.boxShadow&&e.components.convertToPx(h[3])>3)t(this).blur();else{t(this).blur();for(var p,f=s.length-1;f>=0;--o)p=s[f],document.styleSheets[p.sheet].insertRule(p.css,p.index);e.testFails("scriptFocusIndicatorVisible",t(this))}}}else t(this).blur()}))},e.selectJumpMenu=function(e,i,n){var s=i.get("$scope");0!==s.find("select").length&&s.find("select").each((function(){i.add(n(0===t(this).parent("form").find(":submit").length&&e.components.hasEventListener(t(this),"change")?{element:this,expected:t(this).closest(".quail-test").data("expected"),status:"failed"}:{element:this,expected:t(this).closest(".quail-test").data("expected"),status:"passed"}))}))},e.siteMap=function(e,i,n){var s=!0,a=n({element:i.get("$scope").get(0),expected:i.get("$scope").data("expected")});i.add(a),i.get("$scope").find("a").each((function(){if("passed"!==a.get("status")){var i=t(this).text().toLowerCase();return t.each(e.strings.siteMap,(function(t,e){return i.search(e)>-1?void(s=!1):void 0})),!1===s?void a.set({status:"failed"}):void(s&&a.set({status:"passed"}))}}))},e.skipToContentLinkProvided=function(e,i,n){i.get("$scope").each((function(){var s=t(this),a=!1;s.find('a[href*="#"]').each((function(){if(!a)for(var o=t(this),r=o.attr("href").split("#").pop(),c=s.find("#"+r),l=e.strings.skipContent.slice();!a&&l.length;){var u=l.pop();if(o.text().search(u)>-1&&c.length){if(o.focus(),o.is(":visible")&&"hidden"!==o.css("visibility"))return a=!0,void i.add(n({element:o.get(0),expected:o.closest(".quail-test").data("expected"),status:"passed"}));o.blur()}}})),a||i.add(n({expected:s.data("expected")||s.find("[data-expected]").data("expected"),status:"failed"}))}))},e.tabIndexFollowsLogicalOrder=function(e,i,n){i.get("$scope").each((function(){var s=t(this),a=0;s.find("[tabindex]").each((function(){var s=t(this).attr("tabindex");i.add(n(parseInt(s,10)>=0&&parseInt(s,10)!==a+1?{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}:{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"passed"})),a++}))}))},e.tableAxisHasCorrespondingId=function(e,i,n){i.get("$scope").find("[axis]").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set(0===t(this).parents("table").first().find("th#"+t(this).attr("axis")).length?{status:"failed"}:{status:"passed"})}))},e.tableHeaderLabelMustBeTerse=function(e,i,n){i.get("$scope").find("th, table tr:first td").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e),e.set(t(this).text().length>20&&(!t(this).attr("abbr")||t(this).attr("abbr").length>20)?{status:"failed"}:{status:"passed"})}))},e.tableLayoutDataShouldNotHaveTh=function(e,i,n){i.get("$scope").find("table").each((function(){var s=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(s),s.set(0!==t(this).find("th").length?e.isDataTable(t(this))?{status:"passed"}:{status:"failed"}:{status:"inapplicable"})}))},e.tableLayoutHasNoCaption=function(e,i,n){i.get("$scope").find("table").each((function(){i.add(n(t(this).find("caption").length?e.isDataTable(t(this))?{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"passed"}:{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}:{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"inapplicable"}))}))},e.tableLayoutHasNoSummary=function(e,i,n){i.get("$scope").each((function(){t(this).find("table[summary]").each((function(){i.add(n({element:this,expected:t(this).closest(".quail-test").data("expected")})).set(e.isDataTable(t(this))||e.isUnreadable(t(this).attr("summary"))?{status:"passed"}:{status:"failed"})}))}))},e.tableLayoutMakesSenseLinearized=function(e,i,n){i.get("$scope").find("table").each((function(){e.isDataTable(t(this))||i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}))}))},e.tableNotUsedForLayout=function(e,i,n){i.get("$scope").find("table").each((function(){i.add(n(e.isDataTable(t(this))?{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"passed"}:{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}))}))},e.tableShouldUseHeaderIDs=function(e,i,n){i.get("$scope").find("table").each((function(){var s=t(this),a=!1;e.isDataTable(s)&&(s.find("th").each((function(){a||t(this).attr("id")||(a=!0,i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"})))})),a||s.find("td[header]").each((function(){a||t.each(t(this).attr("header").split(" "),(function(t,o){s.find("#"+o).length||(a=!0,i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"})))}))})))}))},e.tableSummaryDoesNotDuplicateCaption=function(e,i,n){i.get("$scope").find("table[summary]:has(caption)").each((function(){i.add(n(e.cleanString(t(this).attr("summary"))===e.cleanString(t(this).find("caption:first").text())?{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}:{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"passed"}))}))},e.tableSummaryIsNotTooLong=function(e,i,n){i.get("$scope").find("table[summary]").each((function(){t(this).attr("summary").trim().length>100&&i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}))}))},e.tableUseColGroup=function(e,i,n){i.get("$scope").find("table").each((function(){e.isDataTable(t(this))&&!t(this).find("colgroup").length&&i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}))}))},e.tableUsesAbbreviationForHeader=function(e,i,n){i.get("$scope").find("th:not(th[abbr])").each((function(){t(this).text().length>20&&i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}))}))},e.tableUsesScopeForRow=function(e,i,n){i.get("$scope").find("table").each((function(){t(this).find("td:first-child").each((function(){var s=t(this).next("td");("bold"===t(this).css("font-weight")&&"bold"!==s.css("font-weight")||t(this).find("strong").length&&!s.find("strong").length)&&i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}))})),t(this).find("td:last-child").each((function(){var s=t(this).prev("td");("bold"===t(this).css("font-weight")&&"bold"!==s.css("font-weight")||t(this).find("strong").length&&!s.find("strong").length)&&i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}))}))}))},e.tableWithMoreHeadersUseID=function(e,i,n){i.get("$scope").find("table:has(th)").each((function(){var s=t(this),a=0;s.find("tr").each((function(){t(this).find("th").length&&a++,a>1&&!t(this).find("th[id]").length&&i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}))}))}))},e.tabularDataIsInTable=function(e,i,n){i.get("$scope").find("pre").each((function(){i.add(n(t(this).html().search("\t")>=0?{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}:{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"passed"}))}))},e.tagsAreNestedCorrectly=function(t,e,i){t.components.htmlSource.getHtml((function(n){var s=t.components.htmlTagValidator(n),a=i({expected:e.get("$scope").filter(".quail-test").eq(0).data("expected")});e.add(a),a.set(s?{status:"failed",html:s}:{status:"passed"})}))},e.textIsNotSmall=function(e,i,n){i.get("$scope").find(e.textSelector).each((function(){var s=t(this).css("font-size");s.search("em")>0&&(s=e.components.convertToPx(s)),s=parseInt(s.replace("px",""),10),i.add(n(10>s?{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}:{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"passed"}))}))},e.userInputMayBeRequired=function(e,i,n){i.get("$scope").each((function(){var e=n({element:this,expected:t(this).closest(".quail-test").data("expected")});i.add(e);var s=t(this).find("form"),a=0,o=t(this).find("input:not(form input, [type=button],[type=reset],[type=image],[type=submit],[type=hidden])");return s.each((function(){var e=t(this).find("input:not([type=button],[type=reset],[type=image],[type=submit],[type=hidden])");e.length>1&&(a=e.length)})),a>0||o.length>1?void e.set({status:"cantTell"}):void e.set({status:"inapplicable"})}))},e.videoMayBePresent=function(e,i,n){var s=["webm","flv","ogv","ogg","avi","mov","qt","wmv","asf","mp4","m4p","m4v","mpg","mp2","mpeg","mpg","mpe","mpv","m2v","3gp","3g2"],a=["//www.youtube.com/embed/","//player.vimeo.com/video/"];i.get("$scope").each((function(){var e=t(this),o=!1;e.find("object, video").each((function(){o=!0,i.add(n({element:this,expected:t(this).closest(".quail-test").data("expected"),status:"cantTell"}))})),e.find("a[href]").each((function(){var e=t(this),a=e.attr("href").split(".").pop();-1!==t.inArray(a,s)&&(o=!0,i.add(n({element:this,expected:e.closest(".quail-test").data("expected"),status:"cantTell"})))})),e.find("iframe").each((function(){(-1!==this.src.indexOf(a[0])||-1!==this.src.indexOf(a[1]))&&(o=!0,i.add(n({element:this,expected:e.closest(".quail-test").data("expected"),status:"cantTell"})))})),o||i.add(n({element:this,status:"inapplicable",expected:t(this).closest(".quail-test").data("expected")}))}))},e.videosEmbeddedOrLinkedNeedCaptions=function(t,e,i){t.components.video.findVideos(e.get("$scope"),(function(n,s){e.add(i(s?{element:n[0],expected:function(e){return t.components.resolveExpectation(e)}(n),status:"passed"}:{element:n[0],expected:function(e){return t.components.resolveExpectation(e)}(n),status:"failed"}))}))},e.whiteSpaceInWord=function(e,i,n){var s,a;i.get("$scope").find(e.textSelector).each((function(){a=!!t(this).text()&&t(this).text().match(/[^\s\\]/g),s=!!t(this).text()&&t(this).text().match(/[^\s\\]\s[^\s\\]/g),i.add(n(a&&s&&s.length>3&&s.length>=a.length/2-2?{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"failed"}:{element:this,expected:function(t){return e.components.resolveExpectation(t)}(this),status:"passed"}))}))},e.whiteSpaceNotUsedForFormatting=function(e,i,n){i.get("$scope").find(e.textSelector).each((function(){var s=i.add(n({element:this,expected:function(t){return e.components.resolveExpectation(t)}(this)}));if(0!==t(this).find("br").length){var a=t(this).html().toLowerCase().split(/(<br\ ?\/?>)+/),o=0;t.each(a,(function(t,e){-1!==e.search(/(\s|\&nbsp;){2,}/g)&&o++})),s.set(o>1?{status:"failed"}:{status:"cantTell"})}else s.set({status:"passed"})}))},e.lib.Case=function(){function e(t){return new e.fn.init(t)}return e.fn=e.prototype={constructor:e,init:function(t){this.listeners={},this.timeout=null,this.attributes=t||{};var e=this;return this.attributes.status&&"untested"!==this.attributes.status?setTimeout((function(){e.resolve()}),0):(this.attributes.status="untested",this.timeout=setTimeout((function(){e.giveup()}),350)),this},attributes:null,get:function(t){return this.attributes[t]},set:function(t,e){var i=!1;if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&("status"===n&&(i=!0),this.attributes[n]=t[n]);else"status"===t&&(i=!0),this.attributes[t]=e;return i&&this.resolve(),this},hasStatus:function(t){"object"!=typeof t&&(t=[t]);for(var e=this.get("status"),i=0,n=t.length;n>i;++i)if(t[i]===e)return!0;return!1},resolve:function(){clearTimeout(this.timeout);var t,e=this.attributes.element;e&&e.nodeType&&1===e.nodeType&&(this.attributes.selector=this.defineUniqueSelector(e),this.attributes.html||(this.attributes.html="","HTML"===e.nodeName||"BODY"===e.nodeName?this.attributes.html="<"+e.nodeName+">":"string"==typeof e.outerHTML&&((t=e.outerHTML.trim().replace(/(\r\n|\n|\r)/gm,"").replace(/>\s+</g,"><")).length>200&&(t=t.substr(0,200)+"... [truncated]"),this.attributes.html=t))),this.dispatch("resolve",this)},giveup:function(){clearTimeout(this.timeout),this.attributes.status="notTested",this.dispatch("timeout",this)},listenTo:function(t,e,i){i=i.bind(this),t.registerListener.call(t,e,i)},registerListener:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},dispatch:function(t){if(this.listeners[t]&&this.listeners[t].length){var e=[].slice.call(arguments);this.listeners[t].forEach((function(t){t.apply(null,e)}))}},defineUniqueSelector:function(e){function i(e){return 1===t(e).length}function n(t){var e="",i=t.id||"";return i.length>0&&(e="#"+i),e}function s(t){var e=t.className||"";return e.length>0&&(e=function(t,e){for(var i=[],n=0,s=t.length;s>n;n++)e.call(null,t[n])||i.push(t[n]);return i}(e=e.split(/\s+/),(function(t){return/active|enabled|disabled|first|last|only|collapsed|open|clearfix|processed/.test(t)})),e.length>0)?"."+e.join("."):""}function a(t){var e,i="",n=["href","type"];if(void 0===t||void 0===t.attributes||null===t.attributes)return i;for(var s=0,a=n.length;a>s;s++)(e=t.attributes[n[s]]&&t.attributes[n[s]].value)&&(i+="["+n[s]+'="'+e+'"]');return i}return e&&function(t){var e="",o="",r=!1,c=!0;do{if(o="",(o=n(t)).length>0){e=o+" "+e;break}!r&&(o=s(t)).length>0&&i(e=o+" "+e)&&(r=!0),c&&((o=a(t)).length>0&&(e=o+e),e=t.nodeName.toLowerCase()+e,c=!1),t=t.parentNode}while(t&&1===t.nodeType&&"BODY"!==t.nodeName&&"HTML"!==t.nodeName);return e.trim()}(e)},push:[].push,sort:[].sort,concat:[].concat,splice:[].splice},e.fn.init.prototype=e.fn,e}(),e.lib.Section=function(){function t(e,i){return new t.fn.init(e,i)}return t.fn=t.prototype={constructor:t,init:function(t,i){if(!t)return this;if(this.id=t,i.techniques&&i.techniques.length){for(var n=0,s=i.techniques.length;s>n;++n)this.push(e.lib.Technique(i.techniques[n]));return this}return this},length:0,each:function(t){for(var e=[].slice.call(arguments,1),i=0,n=this.length;n>i;++i)e.unshift(this[i]),e.unshift(i),t.apply(this[i],e);return this},find:function(t){for(var e=0,i=this.length;i>e;++e)if(this[e].get("name")===t)return this[e];return null},set:function(t,i){for(var n=0,s=this.length;s>n;++n)if(this[n].get("name")===t)return this[n].set(i),this[n];var a=e.lib.Test(t,i);return this.push(a),a},addTechnique:function(t){this.push(t)},regiterTechniqueTestResult:function(){},push:[].push,sort:[].sort,splice:[].splice},t.fn.init.prototype=t.fn,t}(),e.lib.SuccessCriteria=function(){function i(t){return new i.fn.init(t)}return i.fn=i.prototype={constructor:i,init:function(t){return this.listeners={},this.attributes=this.attributes||{},this.attributes.status="untested",this.attributes.results={},this.attributes.totals={},this.set(t||{}),this},length:0,attributes:null,get:function(e){if("$scope"===e){var i=this.attributes.scope,n=t(this.attributes.scope);return this.attributes[e]?this.attributes[e]:i?n:t(document)}return this.attributes[e]},set:function(t,e){if("object"==typeof t)for(var i in t)t.hasOwnProperty(i)&&(this.attributes[i]=t[i]);else this.attributes[t]=e;return this},each:function(t){for(var e=[].slice.call(arguments,1),i=0,n=this.length;n>i;++i){e.unshift(this[i]),e.unshift(i);var s=t.apply(this[i],e);if(!1===s)break}return this},add:function(t){this.find(t.get("selector"))||this.push(t)},find:function(t){for(var e=0,i=this.length;i>e;++e)if(this[e].get("selector")===t)return this[e];return null},registerTests:function(t){var e=this.get("preEvaluator"),i=!0;void 0!==e&&(i=e.call(this,t)),i||this.set("status","inapplicable"),this.set("tests",t),this.listenTo(t,"complete",this.evaluate)},filterTests:function(t){var i=new e.lib.TestCollection,n=this.get("name");if(!n)throw new Error("Success Criteria instances require a name in order to have tests filtered.");var s=n.split(":")[1];return t.each((function(t,e){var n=e.getGuidelineCoverage("wcag");for(var a in n)n.hasOwnProperty(a)&&a===s&&i.add(e)})),i},addConclusion:function(t,i){this.get("results")[t]||(this.get("results")[t]=e.lib.Test()),this.get("results")[t].push(i),this.get("totals")[t]||(this.get("totals")[t]=0),++this.get("totals")[t],this.get("totals").cases||(this.get("totals").cases=0),++this.get("totals").cases},evaluate:function(t,e){if("inapplicable"!==this.get("status")){var i=this,n=this.filterTests(e);0===n.length?this.set("status","noTestCoverage"):(n.each((function(t,e){e.each((function(t,e){i.addConclusion(e.get("status"),e)}))})),0===function(t){return Object.keys(t).length}(this.get("results"))?this.set("status","noResults"):this.set("status","tested"))}this.report()},report:function(){var t=Array.prototype.slice.call(arguments);t=[].concat(["successCriteriaEvaluated",this,this.get("tests")],t),this.dispatch.apply(this,t)},listenTo:function(t,e,i){i=i.bind(this),t.registerListener.call(t,e,i)},registerListener:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},dispatch:function(t){if(this.listeners[t]&&this.listeners[t].length){var e=[].slice.call(arguments);this.listeners[t].forEach((function(t){t.apply(null,e)}))}},push:[].push,sort:[].sort,splice:[].splice},i.fn.init.prototype=i.fn,i}(),e.lib.Technique=function(){function t(e,i){return new t.fn.init(e,i)}return t.fn=t.prototype={constructor:t,init:function(t,e){return this.listeners={},t?(this.attributes=e||{},this.attributes.name=t,this):this},length:0,attributes:{},each:function(t){for(var e=[].slice.call(arguments,1),i=0,n=this.length;n>i;++i)e.unshift(this[i]),e.unshift(i),t.apply(this[i],e);return this},get:function(t){return this.attributes[t]},set:function(t,e){if("object"==typeof t)for(var i in t)t.hasOwnProperty(i)&&(this.attributes[i]=t[i]);else this.attributes[t]=e;return this},addTest:function(){},report:function(t,e){window.console&&window.console.log(this.get("name"),e.status,e,e[0]&&e[0].status)},listenTo:function(t,e,i){i=i.bind(this),t.registerListener.call(t,e,i)},registerListener:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},dispatch:function(t){if(this.listeners[t]&&this.listeners[t].length){var e=[].slice.call(arguments);this.listeners[t].forEach((function(t){t.apply(null,e)}))}},push:[].push,sort:[].sort,splice:[].splice},t.fn.init.prototype=t.fn,t}(),e.lib.Test=function(){function i(t,e){return new i.fn.init(t,e)}function n(t){t=void 0===t||t,this.each((function(e,i){i.get("status")||(t=!1)})),t?(this.testComplete=null,this.attributes.complete=!0,this.determineStatus()):this.testComplete()}return i.fn=i.prototype={constructor:i,init:function(t,e){return this.listeners={},this.length=0,t?(this.attributes=e||{},this.attributes.name=t,this.attributes.status="untested",this.attributes.complete=!1,this):this},length:0,attributes:null,each:function(t){for(var e=[].slice.call(arguments,1),i=0,n=this.length;n>i;++i)e.unshift(this[i]),e.unshift(i),t.apply(this[i],e);return this},get:function(e){if("$scope"===e){var i=this.attributes.scope,n=t(this.attributes.scope);return this.attributes[e]?this.attributes[e]:i?n:t(document)}return this.attributes[e]},set:function(t,e){var i=!1;if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&("status"===n&&(i=!0),this.attributes[n]=t[n]);else"status"===t&&(i=!0),this.attributes[t]=e;return i&&this.resolve(),this},add:function(t){return this.listenTo(t,"resolve",this.caseResponded),this.listenTo(t,"timeout",this.caseResponded),t.status&&t.dispatch("resolve",t),this.push(t),t},invoke:function(){if(this.testComplete)throw new Error("The test "+this.get("name")+" is already running.");if(this.attributes.complete)throw new Error("The test "+this.get("name")+" has already been run.");var t=this.get("type"),i=this.get("options")||{},s=this.get("callback"),a=this;if(this.testComplete=function(t,e,i){var n,s;return function(){var e=this,a=arguments,o=function(){n=null,s=t.apply(e,a)},r=i;return clearTimeout(n),n=setTimeout(o,400),r&&(s=t.apply(e,a)),s}}(n.bind(this)),this.testComplete(!1),"custom"===t)if("function"==typeof s)try{s.call(this,e,a,e.lib.Case,i)}catch(t){window.console&&window.console.error&&window.console.error(t)}else{if("custom"!==t||"function"!=typeof e[s])throw new Error("The callback "+s+" cannot be invoked.");try{e[s].call(this,e,a,e.lib.Case,i)}catch(t){window.console&&window.console.error&&window.console.error(t)}}else{if("function"!=typeof e.components[t])throw new Error("The component type "+t+" is not defined.");try{e.components[t].call(this,e,a,e.lib.Case,i)}catch(t){window.console&&window.console.error&&window.console.error(t)}}return this.testComplete(),this},findByStatus:function(t){if(t){var e=new i;"string"==typeof t&&(t=[t]);for(var n=0,s=t.length;s>n;++n){var a=t[n];this.each((function(t,i){i.get("status")===a&&e.add(i)}))}return e}},findCasesBySelector:function(t){var e=this.groupCasesBySelector();return e.hasOwnProperty(t)?e[t]:new i},findCaseByHtml:function(t){for(var i,n=0,s=this.length;s>n;++n)if(t===(i=this[n]).get("html"))return i;return e.lib.Case()},groupCasesBySelector:function(){var t={};return this.each((function(e,n){var s=n.get("selector");t[s]||(t[s]=new i),t[s].add(n)})),t},groupCasesByHtml:function(){var t={};return this.each((function(e,n){var s=n.get("html");t[s]||(t[s]=new i),t[s].add(n)})),t},getGuidelineCoverage:function(t){var e=this.get("guidelines");return e&&e[t]||{}},caseResponded:function(t,e){this.dispatch(t,this,e),"function"==typeof this.testComplete&&this.testComplete()},determineStatus:function(){var t,i=this.get("type");e.components[i]&&"function"==typeof e.components[i].postInvoke&&(t=e.components[i].postInvoke.call(this,this)),this.set(!0===t?{status:"passed"}:this.findByStatus(["cantTell"]).length===this.length?{status:"cantTell"}:this.findByStatus(["inapplicable"]).length===this.length?{status:"inapplicable"}:this.findByStatus(["failed","untested"]).length?{status:"failed"}:{status:"passed"})},resolve:function(){this.dispatch("complete",this)},testComplete:null,listenTo:function(t,e,i){i=i.bind(this),t.registerListener.call(t,e,i)},registerListener:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},dispatch:function(t){if(this.listeners[t]&&this.listeners[t].length){var e=[].slice.call(arguments);this.listeners[t].forEach((function(t){t.apply(null,e)}))}},push:[].push,sort:[].sort,concat:[].concat,splice:[].splice},i.fn.init.prototype=i.fn,i}(),e.lib.TestCollection=function(){function t(e){return new t.fn.init(e)}function i(){var t=!0;this.each((function(e,i){i.get("complete")||(t=!1)})),t?(this.testsComplete=null,this.dispatch("complete",this)):this.testsComplete()}return t.fn=t.prototype={constructor:t,init:function(t,i){if(this.listeners={},i=i||{},!t)return this;if("object"==typeof t){var n;for(var s in t)t.hasOwnProperty(s)&&(t[s].scope=t[s].scope||i.scope,n=new e.lib.Test(s,t[s]),this.listenTo(n,"results",this.report),this.push(n));return this}return this},length:0,run:function(t){var e=this;return t=t||{},this.each((function(i,n){t.preFilter&&e.listenTo(n,"resolve",(function(e,i,n){!1===t.preFilter(e,i,n)&&(n.attributes.status="notTested",n.attributes.expected=null)})),t.caseResolve&&e.listenTo(n,"resolve",t.caseResolve),t.testComplete&&e.listenTo(n,"complete",t.testComplete)})),t.testCollectionComplete&&e.listenTo(e,"complete",t.testCollectionComplete),this.testsComplete=function(t,e,i){var n,s;return function(){var e=this,a=arguments,o=function(){n=null,s=t.apply(e,a)},r=i;return clearTimeout(n),n=setTimeout(o,500),r&&(s=t.apply(e,a)),s}}(i.bind(this)),this.each((function(t,e){e.invoke()})),this.testsComplete(),this},each:function(t){for(var e=[].slice.call(arguments,1),i=0,n=this.length;n>i;++i){e.unshift(this[i]),e.unshift(i);var s=t.apply(this[i],e);if(!1===s)break}return this},add:function(t){this.find(t.get("name"))||this.push(t)},find:function(t){for(var e=0,i=this.length;i>e;++e)if(this[e].get("name")===t)return this[e];return null},findByGuideline:function(e){var i={wcag:function(i,n){var s=i.id,a=n.get("name");return s&&a?function(e,i,n){var s=new t;return this.each((function(t,a){var o=a.get("guidelines"),r=o[e]&&o[e][i]&&o[e][i].techniques;if(r)for(var c=0,l=r.length;l>c;++c)r[c]===n&&(s.listenTo(a,"results",s.report),s.add(a))})),s}.call(this,e,s,a):void 0}};if(i[e]){var n=[].slice.call(arguments,1);return i[e].apply(this,n)}},findByStatus:function(e){if(e){var i=new t;"string"==typeof e&&(e=[e]);for(var n=0,s=e.length;s>n;++n){var a=e[n];this.each((function(t,e){e.get("status")===a&&i.add(e)}))}return i}},set:function(t,i){for(var n=0,s=this.length;s>n;++n)if(this[n].get("name")===t)return this[n].set(i),this[n];var a=e.lib.Test(t,i);return this.push(a),a},testsComplete:null,report:function(){this.dispatch.apply(this,arguments)},listenTo:function(t,e,i){i=i.bind(this),t.registerListener.call(t,e,i)},registerListener:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},dispatch:function(t){if(this.listeners[t]&&this.listeners[t].length){var e=[].slice.call(arguments);this.listeners[t].forEach((function(t){t.apply(null,e)}))}},push:[].push,sort:[].sort,splice:[].splice},t.fn.init.prototype=t.fn,t}(),e.lib.WCAGGuideline=function(){var t=function(e){return new t.fn.init(e)};return t.fn=t.prototype={constructor:t,init:function(t){if(!t)return this;var i,n,s,a,o;if(this.techniques=[],"object"==typeof t){if(t.guidelines)for(var r in i=t.guidelines)if(i.hasOwnProperty(r)){if((n=i[r]).techniques&&n.techniques.length&&(s=n.techniques,delete n.techniques),n=e.lib.Section(r,n),s.length)for(var c=0,l=s.length;l>c;++c){if(a=s[c],!t.techniques[a])throw new Error("Definition for Technique "+a+" is missing from the guideline specification");(o=this.findTechnique(a))||(o=e.lib.Technique(a,t.techniques[a]),this.techniques.push(o)),n.addTechnique(o)}this.push(n)}return this}return this},length:0,each:function(t){for(var e=[].slice.call(arguments,1),i=0,n=this.length;n>i;++i)e.unshift(this[i]),e.unshift(i),t.apply(this[i],e);return this},find:function(t){for(var e=0,i=this.length;i>e;++e)if(this[e].get("name")===t)return this[e];return null},findTechnique:function(t){for(var e=0,i=this.techniques.length;i>e;++e)if(this.techniques[e].get("name")===t)return this.techniques[e];return null},set:function(t,i){for(var n=0,s=this.length;s>n;++n)if(this[n].get("name")===t)return this[n].set(i),this[n];var a=e.lib.Test(t,i);return this.push(a),a},evaluate:function(){},results:function(){},push:[].push,sort:[].sort,splice:[].splice},t.fn.init.prototype=t.fn,t}(),function(t){function e(e,i,n,s){var a=i.attr("rowspan")||1,r=i.attr("scope");if("col"===r)return!0;if(-1!==o.indexOf(r))return!1;for(var c=0;c<a*e[s].length-1;c+=1)if(t(e[s+c%a][~~(c/a)]).is("td"))return!1;return!0}function i(i,n,s,a){var r=n.attr("colspan")||1,c=n.attr("scope");if("row"===c)return!0;if(-1!==o.indexOf(c)||e(i,n,0,a))return!1;for(var l=0;l<r*i.length-1;l+=1)if(t(i[~~(l/r)][s+l%r]).is("td"))return!1;return!0}function n(n,s,a,o,r){var c,l,u=t(),d=t(n[a][s]),h=[];for(d.is("th")?(l=[{cell:d,x:s,y:a}],c=!0):(c=!1,l=[]);s>=0&&a>=0;s+=o,a+=r){var p=t(n[a][s]),f=0===o?"col":"row";if(p.is("th")){c=!0,l.push({cell:p,x:s,y:a});var g=!1;-1===r&&i(n,p,s,a)||-1===o&&e(n,p,0,a)?g=!0:t.each(h,(function(e,i){(+p.attr(f+"span")||1)===(+t(i.cell).attr(f+"span")||1)&&(-1===r&&i.x===s||-1===o&&i.y===a)&&(g=!0)})),!1===g&&(u=u.add(p))}else p.is("td")&&!0===c&&(c=!1,h.push(l),l=t())}return u}function s(t,e){for(var i,n=0,s=0;void 0===i;){if(void 0===t[s])return;t[s][n]===e[0]?i=n:n+1===t[s].length?(s+=1,n=0):n+=1}return{x:i,y:s}}function a(e,i){var a,o=t(),r=s(i,e),c=+e.attr("rowspan")||1,l=+e.attr("colspan")||1;for(a=0;l>a;a++)o=o.add(n(i,r.x+a,r.y,0,-1));for(a=0;c>a;a++)o=o.add(n(i,r.x,r.y+a,-1,0));return o}var o=["row","col","rowgroup","colgroup"];t.fn.getTableMap=function(){var e=[];return this.find("tr").each((function(i){void 0===e[i]&&(e[i]=[]);var n=e[i];t(this).children().each((function(){var s,a,o,r=t(this),c=+r.attr("rowspan")||1,l=+r.attr("colspan")||1;for(a=0,o=n.length;o>=a;a+=1)void 0===s&&void 0===n[a]&&(s=a);for(a=0,o=l*c;o>a;a+=1)void 0===e[i+~~(a/l)]&&(e[i+~~(a/l)]=[]),e[i+~~(a/l)][s+a%l]=this}))})),e},t.fn.tableHeaders=function(){var e=t();return this.each((function(){var i=t(this);if(!i.is(":not(td, th)"))if(i.is("[headers]"))e=e.add(function(e){var i=e.closest("table"),n=e.attr("headers").split(/\s/),s=t();return t.each(n,(function(e,n){s=s.add(t("th#"+n+", td#"+n,i))})),s}(i));else{var n=i.closest("table").getTableMap();e=e.add(a(i,n)).add(function(e,i){var n=s(i,e),a=t();e.closest("thead, tbody, tfoot").find("th[scope=rowgroup]").each((function(){var e=s(i,t(this));e.x<=n.x&&e.y<=n.y&&(a=a.add(this))}))}(i,n))}})),e.not(":empty").not(this)}}(jQuery),e.lib.wcag2=function(){function i(i,s,a,o){var r,c,l,u=[];r=t.map(s,(function(t){return new e.lib.wcag2.Criterion(t,a,o,i.subject)})),t.each(r,(function(t,e){u.push.apply(u,e.getTests())})),l=[],c=[],t.each(u,(function(t,e){-1===l.indexOf(e.title.en)&&(l.push(e.title.en),c.push(e))})),t(e.html).quail({accessibilityTests:c,testCollectionComplete:n(r,i.testCollectionComplete)})}function n(e,i){return function(n,s){"complete"===n&&(s=t.map(e,(function(t){return t.getResult(s)}))),i(n,s)}}var s={async:!1,dataType:"json"};return{run:function(e){e.wcag2Structure&&e.accessibilityTests&&e.preconditionTests?i(e,e.wcag2Structure,e.accessibilityTests,e.preconditionTests):t.when(t.ajax(e.jsonPath+"/wcag2.json",s),t.ajax("https://test.libretexts.org/alvin/public/ckeditor-a11ychecker/dist/libs/quail/tests.json",s),t.ajax(e.jsonPath+"/preconditions.json",s)).done((function(t,n,s){i(e,t[0],n[0],s[0])}))}}}(),e.guidelines.wcag.successCriteria["1.1.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.1.1",preEvaluator:function(){return!0}});return e.techniques={},e.failures={F3:"Using CSS to include images that convey important information",F13:"Having a text alternative that does not include information that is conveyed by color differences in the image",F20:"Not updating text alternatives when changes to non-text content occur",F30:"Using text alternatives that are not alternatives (e.g., filenames or placeholder text)",F38:"Not marking up decorative images in HTML in a way that allows assistive technology to ignore them",F39:'Providing a text alternative that is not null (e.g., alt="spacer" or alt="image") for images that should be ignored by assistive technology',F65:'Omitting the alt attribute or text alternative on img elements, area elements, and input elements of type "image"',F67:"Providing long descriptions for non-text content that does not serve the same purpose or does not present the same information",F71:"Using text look-alikes to represent text without providing a text alternative",F72:"Using ASCII art without providing a text alternative"},e}(e),e.guidelines.wcag.successCriteria["1.2.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.2.1",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.2.2"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.2.2",preEvaluator:function(){return!0}});return e.techniques={G93:"Providing open (always visible) captions",G87:"Providing closed captions"},e.failures={F74:"Not labeling a synchronized media alternative to text as an alternative",F75:"Providing synchronized media without captions when the synchronized media presents more information than is presented on the page",F8:"Captions omitting some dialogue or important sound effects"},e}(e),e.guidelines.wcag.successCriteria["1.2.3"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.2.3",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.2.4"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.2.4",preEvaluator:function(){return!0}});return e.techniques={G9:"Creating captions for live synchronized media",G93:"Providing open (always visible) captions",G87:"Providing closed captions using any readily available media format that has a video player that supports closed captioning"},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.2.5"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.2.5",preEvaluator:function(){return!0}});return e.techniques={G78:"Providing a second, user-selectable, audio track that includes audio descriptions",G173:"Providing a version of a movie with audio descriptions","SC1.2.8":"Providing a movie with extended audio descriptions",G8:"Providing a movie with extended audio descriptions",G203:"Using a static text alternative to describe a talking head video"},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.2.7"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.2.7",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.2.8"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.2.8",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.2.9"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.2.9",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.3.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.3.1",preEvaluator:function(){return!0}});return e.techniques={G115:"Using semantic elements to mark up structure AND H49: Using semantic markup to mark emphasized or special text",G117:"Using text to convey information that is conveyed by variations in presentation of text",G140:"Separating information and structure from presentation to enable different presentations",G138:"Using semantic markup whenever color cues are used",H48:"Using ol, ul and dl for lists or groups of links",H42:"Using h1-h6 to identify headings",SCR21:"Using functions of the Document Object Model (DOM) to add content to a page (Scripting)",H51:"Using table markup to present tabular information",H39:"Using caption elements to associate data table captions with data tables",H73:"Using the summary attribute of the table element to give an overview of data tables",H63:"Using the scope attribute to associate header cells and data cells in data tables",H43:"Using id and headers attributes to associate data cells with header cells in data tables",H44:"Using label elements to associate text labels with form controls",H65:"Using the title attribute to identify form controls when the label element cannot be used",H71:"Providing a description for groups of form controls using fieldset and legend elements",H85:"Using OPTGROUP to group OPTION elements inside a SELECT",ARIA11:"Using ARIA landmarks to identify regions of a page (ARIA)",ARIA12:"Using role=heading to identify headings (ARIA)",ARIA13:"Using aria-labelledby to name regions and landmarks (ARIA)",ARIA16:"Using aria-labelledby to provide a name for user interface controls (ARIA)",ARIA17:"Using grouping roles to identify related form controls (ARIA)"},e.failures={F2:"Using changes in text presentation to convey information without using the appropriate markup or text",F17:"Insufficient information in DOM to determine one-to-one relationships (e.g., between labels with same id) in HTML",F42:"Using scripting events to emulate links in a way that is not programmatically determinable",F43:"Using structural markup in a way that does not represent relationships in the content",F87:"Inserting non-decorative content by using :before and :after pseudo-elements and the content property in CSS",F46:"Using th elements, caption elements, or non-empty summary attributes in layout tables",F48:"Using the pre element to markup tabular information",F90:"Incorrectly associating table headers and content via the headers and id attributes",F91:"Not correctly marking up table headers",F33:"Using white space characters to create multiple columns in plain text content",F34:"Using white space characters to format tables in plain text content",F68:"Association of label and user interface controls not being programmatically determinable"},e}(e),e.guidelines.wcag.successCriteria["1.3.2"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.3.2",preEvaluator:function(){return!0}});return e.techniques={G57:"Ordering the content in a meaningful sequence (scope: for all the content in the Web page)",H34:"Using a Unicode right-to-left mark (RLM) or left-to-right mark (LRM) to mix text direction inline (languageUnicodeDirection)",H56:"Using the dir attribute on an inline element to resolve problems with nested directional runs",C6:"Positioning content based on structural markup (CSS)",C8:"Using CSS letter-spacing to control spacing within a word",C27:"Making the DOM order match the visual order (CSS)"},e.failures={F49:"Using an HTML layout table that does not make sense when linearized",F32:"Using white space characters to control spacing within a word (whiteSpaceInWord)",F1:"Changing the meaning of content by positioning information with CSS",F34:"Using white space characters to format tables in plain text content (tabularDataIsInTable)",F33:"Using white space characters to create multiple columns in plain text content (tabularDataIsInTable)"},e}(e),e.guidelines.wcag.successCriteria["1.3.3"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.3.3",preEvaluator:function(){return!0}});return e.techniques={G96:"Providing textual identification of items that otherwise rely only on sensory information to be understood"},e.failures={F14:"Identifying content only by its shape or location",F26:"Using a graphical symbol alone to convey information"},e}(e),e.guidelines.wcag.successCriteria["1.4.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.4.1",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.4.2"]=function(e){var i=e.lib.SuccessCriteria({name:"wcag:1.4.2",preEvaluator:function(){return!!t("audio, video, object, embed").length}});return i.techniques={G60:"Playing a sound that turns off automatically within three seconds",G170:"Providing a control near the beginning of the Web page that turns off sounds that play automatically",G171:"Playing sounds only on user request"},i.failures={F23:"Playing a sound longer than 3 seconds where there is no mechanism to turn it off"},i}(e),e.guidelines.wcag.successCriteria["1.4.3"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.4.3",preEvaluator:function(){return!0}});return e.techniques={G148:"Not specifying background color, not specifying text color, and not using technology features that change those defaults",G174:"Providing a control with a sufficient contrast ratio that allows users to switch to a presentation that uses sufficient contrast",G18:"Ensuring that a contrast ratio of at least 4.5:1 exists between text (and images of text) and background behind the text for situation A AND G145: Ensuring that a contrast ratio of at least 3:1 exists between text (and images of text) and background behind the text for situation B"},e.failures={F24:"Specifying foreground colors without specifying background colors or vice versa",F83:"Using background images that do not provide sufficient contrast with foreground text (or images of text)"},e}(e),e.guidelines.wcag.successCriteria["1.4.4"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.4.4",preEvaluator:function(){return!0}});return e.techniques={G142:"Using a technology that has commonly-available user agents that support zoom",C12:"Using percent for font sizes",C13:"Using named font sizes",C14:"Using em units for font, sizes",SCR34:"Calculating size and ,position in a way that scales with text size (Scripting)",G146:"Using liquid layout",G178:"Providing controls on the Web page that allow users to incrementally change the size of all text on the page up to 200 percent",G179:"Ensuring that there is no loss of content or functionality when the text resizes and text containers do not change their width"},e.failures={F69:"Resizing visually rendered text up to 200 percent causes the text, image or controls to be clipped, truncated or obscured",F80:"Text-based form controls do not resize when visually rendered text is resized up to 200%"},e}(e),e.guidelines.wcag.successCriteria["1.4.5"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.4.5",preEvaluator:function(){return!!document.querySelectorAll("img, map").length}});return e.techniques={C22:"Using CSS to control visual presentation of text (CSS)",C30:"Using CSS to replace text with images of text and providing user interface controls to switch",G140:"Separating information and structure from presentation to enable different presentations"},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.4.6"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.4.6",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.4.7"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.4.7",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.4.8"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.4.8",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["1.4.9"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:1.4.9",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.1.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.1.1",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.1.2"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.1.2",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.1.3"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.1.3",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.2.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.2.1",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.2.2"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.2.2",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.2.3"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.2.3",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.2.4"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.2.4",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.2.5"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.2.5",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.3.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.3.1",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.3.2"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.3.2",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.4.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.4.1",preEvaluator:function(){return!0}});return e.techniques={G1:"Adding a link at the top of each page that goes directly to the main content area",G123:"Adding a link at the beginning of a block of repeated content to go to the end of the block",G124:"Adding links at the top of the page to each area of the content",H69:"Providing heading elements at the beginning of each section of content",H70:"Using frame elements to group blocks of repeated material AND H64: Using the title attribute of the frame and iframe elements",SCR28:"Using an expandable and collapsible menu to bypass block of content"},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.4.10"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.4.10",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.4.2"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.4.2",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.4.3"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.4.3",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.4.4"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.4.4",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.4.5"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.4.5",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.4.6"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.4.6",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.4.7"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.4.7",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.4.8"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.4.8",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["2.4.9"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:2.4.9",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.1.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.1.1",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.1.2"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.1.2",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.1.3"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.1.3",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.1.4"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.1.4",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.1.5"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.1.5",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.1.6"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.1.6",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.2.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.2.1",preEvaluator:function(){return!0}});return e.techniques={G107:'Using "activate" rather than "focus" as a trigger for changes of context'},e.failures={F52:"Opening a new window as soon as a new page is loaded",F55:"Using script to remove focus when focus is received"},e}(e),e.guidelines.wcag.successCriteria["3.2.2"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.2.2",preEvaluator:function(){return!0}});return e.techniques={G80:"Providing a submit button to initiate a change of context",H32:"Providing submit buttons",H84:"Using a button with a select element to perform an action",G13:"Describing what will happen before a change to a form control that causes a change of context to occur is made",SCR19:"Using an onchange event on a select element without causing a change of context"},e.failures={F36:"Automatically submitting a form and presenting new content without prior warning when the last field in the form is given a value",F37:"Launching a new window without prior warning when the status of a radio button, check box or select list is changed",F76:"Providing instruction material about the change of context by change of setting in a user interface element at a location that users may bypass"},e}(e),e.guidelines.wcag.successCriteria["3.2.3"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.2.3",preEvaluator:function(){return!0}});return e.techniques={G61:"Presenting repeated components in the same relative order each time they appear"},e.failures={F66:"Presenting navigation links in a different relative order on different pages"},e}(e),e.guidelines.wcag.successCriteria["3.2.4"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.2.4",preEvaluator:function(){return!0}});return e.techniques={G197:"Using labels, names, and text alternatives consistently for content that has the same functionality AND following the sufficient techniques for Success Criterion 1.1.1 and sufficient techniques for Success Criterion 4.1.2 for providing labels, names, and text alternatives."},e.failures={F31:"Using two different labels for the same function on different Web pages within a set of Web pages"},e}(e),e.guidelines.wcag.successCriteria["3.2.5"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.2.5",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.3.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.3.1",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.3.2"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.3.2",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.3.3"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.3.3",preEvaluator:function(){return!!document.querySelectorAll("form").length&&(!(!["checkbox","color","date","datetime","datetime-local","email","file","hidden","month","number","password","radio","range","search","tel","time","url","week"].some((function(t){return!!this.querySelectorAll('[type="'+t+'"]').length}),document)&&![{required:"required"},{"aria-required":"true"}].some((function(t){var e=Object.keys(t)[0];return!!this.querySelectorAll("["+e+'="'+t[e]+'"]').length}),document))||void 0)}});return e.techniques={G83:"Providing text descriptions to identify required fields that were not completed",ARIA2:"Identifying a required field with the aria-required property",ARIA18:"Using aria-alertdialog to Identify Errors (ARIA)",G85:"Providing a text description when user input falls outside the required format or values",G177:"Providing suggested correction text",SCR18:"Providing client-side validation and alert (Scripting)",SCR32:"Providing client-side validation and adding error text via the DOM (Scripting)",G84:"Providing a text description when the user provides information that is not in the list of allowed values"},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.3.4"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.3.4",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.3.5"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.3.5",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["3.3.6"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:3.3.6",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["4.1.1"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:4.1.1",preEvaluator:function(){return!0}});return e.techniques={},e.failures={},e}(e),e.guidelines.wcag.successCriteria["4.1.2"]=function(t){var e=t.lib.SuccessCriteria({name:"wcag:4.1.2",preEvaluator:function(){return!0}});return e.techniques={ARIA14:"Using aria-label to provide an invisible label where a visible label cannot be used",ARIA16:"Using aria-labelledby to provide a name for user interface controls",G108:"Using markup features to expose the name and role, allow user-settable properties to be directly set, and provide notification of changes using technology-specific techniques below:",H91:"Using HTML form controls and links",H44:"Using label elements to associate text labels with form controls",H64:"Using the title attribute of the frame and iframe elements",H65:"Using the title attribute to identify form controls when the label element cannot be used",H88:"Using HTML according to spec"},e.failures={F59:"Using script to make div or span a user interface control in HTML without providing a role for the control (This failure may be solved in the future using DHTML roadmap techniques.)",F20:"Not updating text alternatives when changes to non-text content occur",F68:"Association of label and user interface controls not being programmatically determined",F79:"Focus state of a user interface component not being programmatically determinable or no notification of change of focus state available",F86:"Not providing names for each part of a multi-part form field, such as a US telephone number",F89:"Using null alt on an image where the image is the only content in a link"},e}(e),e.lib.wcag2.Criterion=function(){function i(i,n){var s=e.lib.wcag2.EarlAssertion.getResultPriority,a={result:n};return t.each(i,(function(t,e){s(a)<s(e)&&(a.result=e.outcome.result)})),a}return function(n,s,a,o){var r=[],c={},l=n.default||"untested",u=n.id;if(t.isArray(n.testAggregators)&&(r=t.map(n.testAggregators,(function(t){return new e.lib.wcag2.TestAggregator(t,s,o)}))),t.isArray(n.preconditions)){var d={type:"stacking",tests:n.preconditions};r.push(new e.lib.wcag2.TestAggregator(d,a,o))}return c.getResult=function(n){var s,a=[];return t.each(r,(function(t,e){var i=e.getResults(n);a.push.apply(a,i)})),s=new e.lib.wcag2.EarlAssertion({testRequirement:u,outcome:i(a,l),subject:o}),a.length>0&&(s.hasPart=a),s},c.getTests=function(){var e=[];return t.each(r,(function(t,i){e.push.apply(e,i.tests)})),e},c}}(),e.lib.wcag2.EarlAssertion=function(){function e(e){t.extend(this,e,s),this.outcome=t.extend({},this.outcome)}var i,n=["untested","inapplicable","passed","cantTell","failed"],s={type:"assertion",subject:i,assertedBy:{type:"earl:Software",name:"QuailJS"},mode:"automated"};return window&&window.location&&(i=window.location.href),e.getResultPriority=function(t){return"object"==typeof t&&(t=t.outcome?t.outcome.result:t.result),n.indexOf(t)},e}(),e.lib.wcag2.TestAggregator=function(){function i(e,i){t.each(e,(function(t,e){e.each((function(){i.call(this,e,this)}))}))}function n(e){var i=[],n=[];return t.each(e,(function(t,e){var i=[];e.each((function(){i.push(this.get("element")),c.add(this)})),n.push(i)})),t.each(n,(function(e,n){if(0!==e){var s=[];t.each(n,(function(t,e){-1!==i.indexOf(e)&&s.push(e)})),i=s}else i=n})),i}function s(i,n){var s=[];return t.each(i,(function(t,i){var a=new e.lib.wcag2.EarlAssertion(n);i&&(a.outcome.pointer=c.getPointer(i)),s.push(a)})),s}function a(t,a){var o=jQuery.unique(n(a)),r=s(jQuery.unique(o),{testCase:t.id,outcome:{result:"failed"}});return i(a,(function(i,n){var s=n.get("status"),a=e.lib.wcag2.EarlAssertion.getResultPriority,c=r[o.indexOf(n.get("element"))];if(t[s]&&(s=t[s]),c&&a(c)>=a(s)){var l=c.outcome.pointer;c.outcome={result:s,info:i.get("title")},l&&(c.outcome.pointer=l)}})),r}function o(t,n){var a=function(t){var e=[];return i(t,(function(t,i){var n=i.get("element");-1===e.indexOf(n)&&(e.push(n),c.add(i))})),e}(n),o=s(a,{testCase:t.id,outcome:{result:"untested"}});return i(n,(function(i,n){var s=n.get("status"),r=e.lib.wcag2.EarlAssertion.getResultPriority,c=o[a.indexOf(n.get("element"))];t[s]&&(s=t[s]),c&&r(c)<r(s)&&(c.outcome={result:s,info:i.get("title")})})),o}function r(e,i,n){t.extend(this,{id:e.tests.join("+"),subject:n},e),this.tests=t.map(this.tests,(function(t){return i[t]}))}var c={elms:[],pointers:[],add:function(t){var e;-1===c.elms.indexOf(t.get("element"))&&(t.get("html")&&(e=[{type:"CharSnippetCompoundPointer",chars:t.get("html"),CSSSelector:t.get("selector")}]),c.elms.push(t.get("element")),c.pointers.push(e))},getPointer:function(t){var e=c.elms.indexOf(t);return c.pointers[e]}};return r.prototype.filterDataToTests=function(e){var i=t.map(this.tests,(function(t){return t.name})),n=[];return t.each(e,(function(t,e){-1!==i.indexOf(e.get("name"))&&n.push(e)})),n},r.prototype.getResults=function(t){var i,n,s=this.filterDataToTests(t);return 1===s.length||"combined"===this.type?i=a(this,s):"stacking"===this.type?i=o(this,s):window&&window.console.error("Unknown type for aggregator "+this.id),i?(0===i.length&&(n=new e.lib.wcag2.EarlAssertion({testCase:this.id,subject:this.subject,outcome:{result:"inapplicable"}}),i.push(n)),i):void 0},r}()}(jQuery)}(),c.fn.quail,e.prototype=new s,e.prototype.constructor=e,e.prototype.fixesMapping=l,e.prototype.issueDetails={},e.prototype.process=function(t,e,i){var n=window.jQuery,a=t.editor.config.a11ychecker_quailParams||{},o=this;return s.prototype.process.call(this,t,e,(function(s){var r={reset:!0,guideline:o.config.guideline,testCollectionComplete:function(n,a){var r=o.getIssuesFromCollection(a,t.editor,s);o.filterIssues(r,e),i&&i(r)}};CKEDITOR.tools.extend(a,r,!0),a.jsonPath||(a.jsonPath=o.jsonPath),n(e.$).quail(a)}))},e.prototype.getIssuesFromCollection=function(t,e,i){var n=i||new a,s=this;return t.each((function(t,i){var a=i.get("name");"failed"===i.get("status")&&(s.issueDetails[a]||(s.issueDetails[a]=s.getIssueDetailsFromTest(i,e)),s.addIssuesFromTest(i,n))})),n},e.prototype.getIssueDetailsFromTest=function(t,e){function i(t,e){var i=CKEDITOR.tools.objectKeys(t),n=w.getPreferredLanguage(e.language,e.defaultLanguage,i);return String(t[n])}var n=[],s=t.get("guidelines").wcag,a=s&&CKEDITOR.tools.objectKeys(s)[0];a&&(n.push("WCAG2.0"),n.push(a),n.push(s[a].techniques.join(",")));var o=t.get("title")||{},c=t.get("description")||{};return new r(i(o,e.config),i(c,e.config),n)},e.prototype.addIssuesFromTest=function(t,e){var i=this,n=t.get("name"),s=t.get("testability");t.each((function(t,a){if(i.isValidTestCase(a)){var r,c=a.attributes;"failed"==c.status&&(r=new o({originalElement:new CKEDITOR.dom.element(c.element),testability:s,id:n},i),e.addItem(r))}}))},e.prototype.isValidTestCase=function(t){var e=t.attributes.element;return e instanceof HTMLElement&&null!==e.parentNode},e.prototype.getIssueDetails=function(t,e){e(this.issueDetails[t.id])},e.prototype._filterIssue=function(t,e){var i,n=t.originalElement;return n instanceof CKEDITOR.dom.element!=0&&!(!(i=n.$)||!i.tagName)},e.prototype.createConfig=function(t){var e=new i,n=t.config.a11ychecker_quailParams;return n&&n.guideline&&(e.guideline=n.guideline),e},t(e)}},CKEDITOR.event.implementOn(t._.a11ychecker)}}),CKEDITOR.plugins.setLang("a11ychecker","en",{toolbar:"Check Accessibility",closeBtn:"Close",testability:{0:"notice",.5:"warning",1:"error"},ignoreBtn:"Ignore",ignoreBtnTitle:"Ignore this issue",stopIgnoreBtn:"Stop ignoring",listeningInfo:"Waiting for manual content changes. When done, click <strong>Check again</strong> below.",listeningCheckAgain:"Check again",balloonLabel:"Accessibility Checker",navigationNext:"Next",navigationNextTitle:"Next issue",navigationPrev:"Previous",navigationPrevTitle:"Previous issue",quickFixButton:"Quick fix",quickFixButtonTitle:"Quick fix this issue",navigationCounter:"Issue {current} of {total} ({testability})",noIssuesMessage:"The document does not contain any accessibility issues."}),CKEDITOR.plugins.a11ychecker={rev:"ead9f7d1a2be9e6bf4c245f161d468d0ed02ade2"}}()},w=()=>{t(),x(),r(),CKEDITOR.on("instanceReady",(function(){var t=CKEDITOR.plugins.a11ychecker;t.Engine.prototype.on("process",(function(e){var i=t.Issue,n=e.data.contentElement,s=e.data.issues;u.forEach((e=>{!function(e){var a=i.testability.ERROR;"Notice"==e.testability?a=i.testability.NOTICE:"Warning"==e.testability&&(a=i.testability.WARNING);let o=n.find(e.selector).toArray();y.includes(e.id)&&!o.length&&o.push(n),CKEDITOR.tools.array.forEach(o,(function(n){(null==e.customSelector||e.customSelector(n))&&s.addItem(new i({originalElement:n,testability:a,id:e.id,details:{title:e.title,descr:e.desc}},t.Engine.prototype))})),e.quickfixName&&(t.Engine.prototype.fixesMapping[e.id]=[e.quickfixName])}(e)})),function(){let t=[],i=[],n=o.All,a=o.Headings,r=o.Images,l=o.Tables,u=o.Links,x=o.Color,w=o.Labels,C=o.Abbreviations;if(n||!(n||a||r||l||u||x||w||C))return C||(s=s.filter((t=>!y.includes(t.id)))),x||(s=s.filter((t=>!g.includes(t.id)))),w||(s=s.filter((t=>!m.includes(t.id)))),void(e.sender.config.guideline=c);a&&(t.push(...d),i.push(...v)),r&&(t.push(...h),i.push(...b)),l&&t.push(...p),u&&t.push(...f),x&&t.push(...g),w&&t.push(...m),C&&(t.push("headerH1"),i.push(...y)),i==[]&&i.push("DummyID"),t==[]&&t.push("headerH1"),s=s.filter((t=>i.includes(t.id))),e.sender.config.guideline=t}()}))})),CKEDITOR.dtd.$block.figure=1,CKEDITOR.config.magicline_everywhere=!0,CKEDITOR.addCss(".cke_editable .cke_a11yc_focused.cke_a11yc_error.cke_a11yc_issue { outline:5px dashed #ff6863 !important; }"),CKEDITOR.addCss(".cke_editable .cke_a11yc_focused.cke_a11yc_warning.cke_a11yc_issue { outline:5px dashed #f3994a !important; }"),CKEDITOR.addCss(".cke_editable .cke_a11yc_focused.cke_a11yc_notice.cke_a11yc_issue { outline:5px dashed #68bb59 !important; }"),CKEDITOR.addCss(".cke_editable .cke_a11yc_issue { outline:3px dotted #03a9f4 !important; }"),""===CKEDITOR.config.extraPlugins?CKEDITOR.config.extraPlugins+="a11ychecker,a11yButton":CKEDITOR.config.extraPlugins+=",a11ychecker,a11yButton"};LibreEditor.a11yPlugin=t=>{console.log("October 15, 2022 - Emily"),w(),t.toolbar[12].push("a11yButton")}})()})();